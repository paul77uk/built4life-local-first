import"./disclose-version.Bg9kRutz.js";import{as as Mr,g as et,G as qr,p as St,f as dt,a as Et,c as Ue,am as kt,r as $e,t as Ye,u as ki,aD as Pr,s as Fn}from"./runtime.bXq9IHA8.js";import{d as cn,a as ke,t as Fe,s as Pi,k as Or,b as Ar,c as Oi}from"./store.BgTw70yS.js";import{i as ln}from"./if.ChpqNVhO.js";import{a as Pt,b as Ot,e as wo,i as xo}from"./attributes.DgXluJxb.js";import{p as Nt,a as Ve,b as At,r as Ft,c as on}from"./props.BwDTEM8d.js";import{g as Ai}from"./entry.C-c44tds.js";import{p as Ci}from"./stores.C4HWECWS.js";var Si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ei(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var zn={exports:{}},ji=zn.exports,_o;function Ki(){return _o||(_o=1,function(u,m){(function(b,x){u.exports=x()})(ji,function(){var b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])})(e,t)},x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function j(e,t,n){for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var O=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Si,E=Object.keys,A=Array.isArray;function N(e,t){return typeof t!="object"||E(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||O.Promise||(O.Promise=Promise);var se=Object.getPrototypeOf,Z={}.hasOwnProperty;function te(e,t){return Z.call(e,t)}function oe(e,t){typeof t=="function"&&(t=t(se(e))),(typeof Reflect>"u"?E:Reflect.ownKeys)(t).forEach(function(n){ne(e,n,t[n])})}var ue=Object.defineProperty;function ne(e,t,n,r){ue(e,t,N(n&&te(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function X(e){return{from:function(t){return e.prototype=Object.create(t.prototype),ne(e.prototype,"constructor",e),{extend:oe.bind(null,e.prototype)}}}}var Q=Object.getOwnPropertyDescriptor,de=[].slice;function Y(e,t,n){return de.call(e,t,n)}function Se(e,t){return t(e)}function Pe(e){if(!e)throw new Error("Assertion Failed")}function Oe(e){O.setImmediate?setImmediate(e):setTimeout(e,0)}function be(e,t){if(typeof t=="string"&&te(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,o=t.length;r<o;++r){var i=be(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(a!==-1){var s=e[t.substr(0,a)];return s==null?void 0:be(s,t.substr(a+1))}}function he(e,t,n){if(e&&t!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Pe(typeof n!="string"&&"length"in n);for(var r=0,o=t.length;r<o;++r)he(e,t[r],n[r])}else{var i,a,s=t.indexOf(".");s!==-1?(i=t.substr(0,s),(a=t.substr(s+1))===""?n===void 0?A(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=n:he(s=!(s=e[i])||!te(e,i)?e[i]={}:s,a,n)):n===void 0?A(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Te(e){var t,n={};for(t in e)te(e,t)&&(n[t]=e[t]);return n}var Re=[].concat;function pe(e){return Re.apply([],e)}var He="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(pe([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return O[e]}),ve=new Set(He.map(function(e){return O[e]})),q=null;function z(e){return q=new WeakMap,e=function t(n){if(!n||typeof n!="object")return n;var r=q.get(n);if(r)return r;if(A(n)){r=[],q.set(n,r);for(var o=0,i=n.length;o<i;++o)r.push(t(n[o]))}else if(ve.has(n.constructor))r=n;else{var a,s=se(n);for(a in r=s===Object.prototype?{}:Object.create(s),q.set(n,r),n)te(n,a)&&(r[a]=t(n[a]))}return r}(e),q=null,e}var V={}.toString;function G(e){return V.call(e).slice(8,-1)}var W=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ce=typeof W=="symbol"?function(e){var t;return e!=null&&(t=e[W])&&t.apply(e)}:function(){return null};function re(e,t){return t=e.indexOf(t),0<=t&&e.splice(t,1),0<=t}var ie={};function le(e){var t,n,r,o;if(arguments.length===1){if(A(e))return e.slice();if(this===ie&&typeof e=="string")return[e];if(o=ce(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)!="number")return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var _e=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ut=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ne=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ut),Me={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ze(e,t){this.name=e,this.message=t}function jt(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,r,o){return o.indexOf(n)===r}).join(`
`)}function nt(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=jt(e,t)}function Qe(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=jt(e,this.failures)}X(ze).from(Error).extend({toString:function(){return this.name+": "+this.message}}),X(nt).from(ze),X(Qe).from(ze);var Lt=Ne.reduce(function(e,t){return e[t]=t+"Error",e},{}),Uo=ze,F=Ne.reduce(function(e,t){var n=t+"Error";function r(o,i){this.name=n,o?typeof o=="string"?(this.message="".concat(o).concat(i?`
 `+i:""),this.inner=i||null):typeof o=="object"&&(this.message="".concat(o.name," ").concat(o.message),this.inner=o):(this.message=Me[t]||n,this.inner=null)}return X(r).from(Uo),e[t]=r,e},{});F.Syntax=SyntaxError,F.Type=TypeError,F.Range=RangeError;var Nr=Ut.reduce(function(e,t){return e[t+"Error"]=F[t],e},{}),hn=Ne.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=F[t]),e},{});function fe(){}function Gt(e){return e}function $o(e,t){return e==null||e===Gt?t:function(n){return t(e(n))}}function ht(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Yo(e,t){return e===fe?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ht(r,this.onsuccess):r),o&&(this.onerror=this.onerror?ht(o,this.onerror):o),i!==void 0?i:n}}function Qo(e,t){return e===fe?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ht(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ht(r,this.onerror):r)}}function Xo(e,t){return e===fe?t:function(n){var r=e.apply(this,arguments);N(n,r);var o=this.onsuccess,i=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),o&&(this.onsuccess=this.onsuccess?ht(o,this.onsuccess):o),i&&(this.onerror=this.onerror?ht(i,this.onerror):i),r===void 0?n===void 0?void 0:n:N(r,n)}}function Ho(e,t){return e===fe?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Vn(e,t){return e===fe?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then(function(){return t.apply(r,i)})}return t.apply(this,arguments)}}hn.ModifyError=nt,hn.DexieError=ze,hn.BulkError=Qe;var Le=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Fr(e){Le=e}var Wt={},zr=100,He=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,se(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,se(t),e]}(),Ut=He[0],Ne=He[1],He=He[2],Ne=Ne&&Ne.then,pt=Ut&&Ut.constructor,Ln=!!He,$t=function(e,t){Yt.push([e,t]),pn&&(queueMicrotask(Zo),pn=!1)},Gn=!0,pn=!0,yt=[],yn=[],Wn=Gt,rt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:fe,pgp:!1,env:{},finalize:fe},D=rt,Yt=[],mt=0,mn=[];function M(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=D;if(typeof e!="function"){if(e!==Wt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&$n(this,this._value))}this._state=null,this._value=null,++t.ref,function n(r,o){try{o(function(i){if(r._state===null){if(i===r)throw new TypeError("A promise cannot be resolved with itself.");var a=r._lib&&Kt();i&&typeof i.then=="function"?n(r,function(s,l){i instanceof M?i._then(s,l):i.then(s,l)}):(r._state=!0,r._value=i,Lr(r)),a&&It()}},$n.bind(null,r))}catch(i){$n(r,i)}}(this,e)}var Un={get:function(){var e=D,t=wn;function n(r,o){var i=this,a=!e.global&&(e!==D||t!==wn),s=a&&!it(),l=new M(function(d,y){Yn(i,new Vr(Wr(r,e,a,s),Wr(o,e,a,s),d,y,e))});return this._consoleTask&&(l._consoleTask=this._consoleTask),l}return n.prototype=Wt,n},set:function(e){ne(this,"then",e&&e.prototype===Wt?Un:{get:function(){return e},set:Un.set})}};function Vr(e,t,n,r,o){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=o}function $n(e,t){var n,r;yn.push(t),e._state===null&&(n=e._lib&&Kt(),t=Wn(t),e._state=!1,e._value=t,r=e,yt.some(function(o){return o._value===r._value})||yt.push(r),Lr(e),n&&It())}function Lr(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Yn(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),mt===0&&(++mt,$t(function(){--mt==0&&Qn()},[]))}function Yn(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++mt,$t(Jo,[n,e,t])}else e._listeners.push(t)}function Jo(e,t,n){try{var r,o=t._value;!t._state&&yn.length&&(yn=[]),r=Le&&t._consoleTask?t._consoleTask.run(function(){return e(o)}):e(o),t._state||yn.indexOf(o)!==-1||function(i){for(var a=yt.length;a;)if(yt[--a]._value===i._value)return yt.splice(a,1)}(t),n.resolve(r)}catch(i){n.reject(i)}finally{--mt==0&&Qn(),--n.psd.ref||n.psd.finalize()}}function Zo(){vt(rt,function(){Kt()&&It()})}function Kt(){var e=Gn;return pn=Gn=!1,e}function It(){var e,t,n;do for(;0<Yt.length;)for(e=Yt,Yt=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(0<Yt.length);pn=Gn=!0}function Qn(){var e=yt;yt=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var t=mn.slice(0),n=t.length;n;)t[--n]()}function vn(e){return new M(Wt,!1,e)}function ge(e,t){var n=D;return function(){var r=Kt(),o=D;try{return at(n,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{at(o,!1),r&&It()}}}oe(M.prototype,{then:Un,_then:function(e,t){Yn(this,new Vr(null,null,e,t,D))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=e,n=arguments[1];return typeof t=="function"?this.then(null,function(r){return(r instanceof t?n:vn)(r)}):this.then(null,function(r){return(r&&r.name===t?n:vn)(r)})},finally:function(e){return this.then(function(t){return M.resolve(e()).then(function(){return t})},function(t){return M.resolve(e()).then(function(){return vn(t)})})},timeout:function(e,t){var n=this;return e<1/0?new M(function(r,o){var i=setTimeout(function(){return o(new F.Timeout(t))},e);n.then(r,o).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ne(M.prototype,Symbol.toStringTag,"Dexie.Promise"),rt.env=Gr(),oe(M,{all:function(){var e=le.apply(null,arguments).map(xn);return new M(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach(function(o,i){return M.resolve(o).then(function(a){e[i]=a,--r||t(e)},n)})})},resolve:function(e){return e instanceof M?e:e&&typeof e.then=="function"?new M(function(t,n){e.then(t,n)}):new M(Wt,!0,e)},reject:vn,race:function(){var e=le.apply(null,arguments).map(xn);return new M(function(t,n){e.map(function(r){return M.resolve(r).then(t,n)})})},PSD:{get:function(){return D},set:function(e){return D=e}},totalEchoes:{get:function(){return wn}},newPSD:ot,usePSD:vt,scheduler:{get:function(){return $t},set:function(e){$t=e}},rejectionMapper:{get:function(){return Wn},set:function(e){Wn=e}},follow:function(e,t){return new M(function(n,r){return ot(function(o,i){var a=D;a.unhandleds=[],a.onunhandled=i,a.finalize=ht(function(){var s,l=this;s=function(){l.unhandleds.length===0?o():i(l.unhandleds[0])},mn.push(function d(){s(),mn.splice(mn.indexOf(d),1)}),++mt,$t(function(){--mt==0&&Qn()},[])},a.finalize),e()},t,n,r)})}}),pt&&(pt.allSettled&&ne(M,"allSettled",function(){var e=le.apply(null,arguments).map(xn);return new M(function(t){e.length===0&&t([]);var n=e.length,r=new Array(n);e.forEach(function(o,i){return M.resolve(o).then(function(a){return r[i]={status:"fulfilled",value:a}},function(a){return r[i]={status:"rejected",reason:a}}).then(function(){return--n||t(r)})})})}),pt.any&&typeof AggregateError<"u"&&ne(M,"any",function(){var e=le.apply(null,arguments).map(xn);return new M(function(t,n){e.length===0&&n(new AggregateError([]));var r=e.length,o=new Array(r);e.forEach(function(i,a){return M.resolve(i).then(function(s){return t(s)},function(s){o[a]=s,--r||n(new AggregateError(o))})})})}),pt.withResolvers&&(M.withResolvers=pt.withResolvers));var Ae={awaits:0,echoes:0,id:0},ei=0,gn=[],bn=0,wn=0,ti=0;function ot(e,t,n,r){var o=D,i=Object.create(o);return i.parent=o,i.ref=0,i.global=!1,i.id=++ti,rt.env,i.env=Ln?{Promise:M,PromiseProp:{value:M,configurable:!0,writable:!0},all:M.all,race:M.race,allSettled:M.allSettled,any:M.any,resolve:M.resolve,reject:M.reject}:{},t&&N(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()},r=vt(i,e,n,r),i.ref===0&&i.finalize(),r}function Tt(){return Ae.id||(Ae.id=++ei),++Ae.awaits,Ae.echoes+=zr,Ae.id}function it(){return!!Ae.awaits&&(--Ae.awaits==0&&(Ae.id=0),Ae.echoes=Ae.awaits*zr,!0)}function xn(e){return Ae.echoes&&e&&e.constructor===pt?(Tt(),e.then(function(t){return it(),t},function(t){return it(),we(t)})):e}function ni(){var e=gn[gn.length-1];gn.pop(),at(e,!1)}function at(e,t){var n,r=D;(t?!Ae.echoes||bn++&&e===D:!bn||--bn&&e===D)||queueMicrotask(t?(function(o){++wn,Ae.echoes&&--Ae.echoes!=0||(Ae.echoes=Ae.awaits=Ae.id=0),gn.push(D),at(o,!0)}).bind(null,e):ni),e!==D&&(D=e,r===rt&&(rt.env=Gr()),Ln&&(n=rt.env.Promise,t=e.env,(r.global||e.global)&&(Object.defineProperty(O,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function Gr(){var e=O.Promise;return Ln?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(O,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function vt(e,t,n,r,o){var i=D;try{return at(e,!0),t(n,r,o)}finally{at(i,!1)}}function Wr(e,t,n,r){return typeof e!="function"?e:function(){var o=D;n&&Tt(),at(t,!0);try{return e.apply(this,arguments)}finally{at(o,!1),r&&queueMicrotask(it)}}}function Xn(e){Promise===pt&&Ae.echoes===0?bn===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+Ne).indexOf("[native code]")===-1&&(Tt=it=fe);var we=M.reject,gt="ï¿¿",Xe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ur="String expected.",Rt=[],_n="__dbnames",Hn="readonly",Jn="readwrite";function bt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var $r={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function kn(e){return typeof e!="string"||/\./.test(e)?function(t){return t}:function(t){return t[e]===void 0&&e in t&&delete(t=z(t))[e],t}}function Yr(){throw F.Type()}function ee(e,t){try{var n=Qr(e),r=Qr(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(o,i){for(var a=o.length,s=i.length,l=a<s?a:s,d=0;d<l;++d)if(o[d]!==i[d])return o[d]<i[d]?-1:1;return a===s?0:a<s?-1:1}(Xr(e),Xr(t));case"Array":return function(o,i){for(var a=o.length,s=i.length,l=a<s?a:s,d=0;d<l;++d){var y=ee(o[d],i[d]);if(y!==0)return y}return a===s?0:a<s?-1:1}(e,t)}}catch{}return NaN}function Qr(e){var t=typeof e;return t!="object"?t:ArrayBuffer.isView(e)?"binary":(e=G(e),e==="ArrayBuffer"?"binary":e)}function Xr(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Hr=(ye.prototype._trans=function(e,t,n){var r=this._tx||D.trans,o=this.name,i=Le&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function a(d,y,c){if(!c.schema[o])throw new F.NotFound("Table "+o+" not part of transaction");return t(c.idbtrans,c)}var s=Kt();try{var l=r&&r.db._novip===this.db._novip?r===D.trans?r._promise(e,a,n):ot(function(){return r._promise(e,a,n)},{trans:r,transless:D.transless||D}):function d(y,c,g,f){if(y.idbdb&&(y._state.openComplete||D.letThrough||y._vip)){var p=y._createTransaction(c,g,y._dbSchema);try{p.create(),y._state.PR1398_maxLoop=3}catch(v){return v.name===Lt.InvalidState&&y.isOpen()&&0<--y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),y.close({disableAutoOpen:!1}),y.open().then(function(){return d(y,c,g,f)})):we(v)}return p._promise(c,function(v,h){return ot(function(){return D.trans=p,f(v,h,p)})}).then(function(v){if(c==="readwrite")try{p.idbtrans.commit()}catch{}return c==="readonly"?v:p._completion.then(function(){return v})})}if(y._state.openComplete)return we(new F.DatabaseClosed(y._state.dbOpenError));if(!y._state.isBeingOpened){if(!y._state.autoOpen)return we(new F.DatabaseClosed);y.open().catch(fe)}return y._state.dbReadyPromise.then(function(){return d(y,c,g,f)})}(this.db,e,[this.name],a);return i&&(l._consoleTask=i,l=l.catch(function(d){return console.trace(d),we(d)})),l}finally{s&&It()}},ye.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):e==null?we(new F.Type("Invalid argument to Table.get()")):this._trans("readonly",function(r){return n.core.get({trans:r,key:e}).then(function(o){return n.hook.reading.fire(o)})}).then(t)},ye.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(A(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=E(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(s){if(s.compound&&t.every(function(d){return 0<=s.keyPath.indexOf(d)})){for(var l=0;l<t.length;++l)if(t.indexOf(s.keyPath[l])===-1)return!1;return!0}return!1}).sort(function(s,l){return s.keyPath.length-l.keyPath.length})[0];if(n&&this.db._maxKey!==gt){var i=n.keyPath.slice(0,t.length);return this.where(i).equals(i.map(function(l){return e[l]}))}!n&&Le&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var r=this.schema.idxByName;function o(s,l){return ee(s,l)===0}var a=t.reduce(function(c,l){var d=c[0],y=c[1],c=r[l],g=e[l];return[d||c,d||!c?bt(y,c&&c.multi?function(f){return f=be(f,l),A(f)&&f.some(function(p){return o(g,p)})}:function(f){return o(g,be(f,l))}):y]},[null,null]),i=a[0],a=a[1];return i?this.where(i.name).equals(e[i.keyPath]).filter(a):n?this.filter(a):this.where(t).equals("")},ye.prototype.filter=function(e){return this.toCollection().and(e)},ye.prototype.count=function(e){return this.toCollection().count(e)},ye.prototype.offset=function(e){return this.toCollection().offset(e)},ye.prototype.limit=function(e){return this.toCollection().limit(e)},ye.prototype.each=function(e){return this.toCollection().each(e)},ye.prototype.toArray=function(e){return this.toCollection().toArray(e)},ye.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ye.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,A(e)?"[".concat(e.join("+"),"]"):e))},ye.prototype.reverse=function(){return this.toCollection().reverse()},ye.prototype.mapToClass=function(e){var t,n=this.db,r=this.name;function o(){return t!==null&&t.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof Yr&&(function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function y(){this.constructor=l}b(l,d),l.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}(o,t=e),Object.defineProperty(o.prototype,"db",{get:function(){return n},enumerable:!1,configurable:!0}),o.prototype.table=function(){return r},e=o);for(var i=new Set,a=e.prototype;a;a=se(a))Object.getOwnPropertyNames(a).forEach(function(l){return i.add(l)});function s(l){if(!l)return l;var d,y=Object.create(e.prototype);for(d in l)if(!i.has(d))try{y[d]=l[d]}catch{}return y}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=s,this.hook("reading",s),e},ye.prototype.defineClass=function(){return this.mapToClass(function(e){N(this,e)})},ye.prototype.add=function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=kn(i)(e)),this._trans("readwrite",function(s){return n.core.mutate({trans:s,type:"add",keys:t!=null?[t]:null,values:[a]})}).then(function(s){return s.numFailures?M.reject(s.failures[0]):s.lastResult}).then(function(s){if(i)try{he(e,i,s)}catch{}return s})},ye.prototype.update=function(e,t){return typeof e!="object"||A(e)?this.where(":id").equals(e).modify(t):(e=be(e,this.schema.primKey.keyPath),e===void 0?we(new F.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t))},ye.prototype.put=function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=kn(i)(e)),this._trans("readwrite",function(s){return n.core.mutate({trans:s,type:"put",values:[a],keys:t!=null?[t]:null})}).then(function(s){return s.numFailures?M.reject(s.failures[0]):s.lastResult}).then(function(s){if(i)try{he(e,i,s)}catch{}return s})},ye.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})}).then(function(n){return n.numFailures?M.reject(n.failures[0]):void 0})},ye.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:$r})}).then(function(t){return t.numFailures?M.reject(t.failures[0]):void 0})},ye.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(n){return t.core.getMany({keys:e,trans:n}).then(function(r){return r.map(function(o){return t.hook.reading.fire(o)})})})},ye.prototype.bulkAdd=function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(a){var d=r.schema.primKey,s=d.auto,d=d.keyPath;if(d&&o)throw new F.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");var l=e.length,d=d&&s?e.map(kn(d)):e;return r.core.mutate({trans:a,type:"add",keys:o,values:d,wantResults:i}).then(function(p){var c=p.numFailures,g=p.results,f=p.lastResult,p=p.failures;if(c===0)return i?g:f;throw new Qe("".concat(r.name,".bulkAdd(): ").concat(c," of ").concat(l," operations failed"),p)})})},ye.prototype.bulkPut=function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(a){var d=r.schema.primKey,s=d.auto,d=d.keyPath;if(d&&o)throw new F.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");var l=e.length,d=d&&s?e.map(kn(d)):e;return r.core.mutate({trans:a,type:"put",keys:o,values:d,wantResults:i}).then(function(p){var c=p.numFailures,g=p.results,f=p.lastResult,p=p.failures;if(c===0)return i?g:f;throw new Qe("".concat(r.name,".bulkPut(): ").concat(c," of ").concat(l," operations failed"),p)})})},ye.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map(function(a){return a.key}),o=e.map(function(a){return a.changes}),i=[];return this._trans("readwrite",function(a){return n.getMany({trans:a,keys:r,cache:"clone"}).then(function(s){var l=[],d=[];e.forEach(function(c,g){var f=c.key,p=c.changes,v=s[g];if(v){for(var h=0,w=Object.keys(p);h<w.length;h++){var _=w[h],k=p[_];if(_===t.schema.primKey.keyPath){if(ee(k,f)!==0)throw new F.Constraint("Cannot update primary key in bulkUpdate()")}else he(v,_,k)}i.push(g),l.push(f),d.push(v)}});var y=l.length;return n.mutate({trans:a,type:"put",keys:l,values:d,updates:{keys:r,changeSpecs:o}}).then(function(c){var g=c.numFailures,f=c.failures;if(g===0)return y;for(var p=0,v=Object.keys(f);p<v.length;p++){var h,w=v[p],_=i[Number(w)];_!=null&&(h=f[w],delete f[w],f[_]=h)}throw new Qe("".concat(t.name,".bulkUpdate(): ").concat(g," of ").concat(y," operations failed"),f)})})})},ye.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"delete",keys:e})}).then(function(a){var o=a.numFailures,i=a.lastResult,a=a.failures;if(o===0)return i;throw new Qe("".concat(t.name,".bulkDelete(): ").concat(o," of ").concat(n," operations failed"),a)})},ye);function ye(){}function Qt(e){function t(a,s){if(s){for(var l=arguments.length,d=new Array(l-1);--l;)d[l-1]=arguments[l];return n[a].subscribe.apply(null,d),e}if(typeof a=="string")return n[a]}var n={};t.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return t;function i(a,s,l){if(typeof a!="object"){var d;s=s||Ho;var y={subscribers:[],fire:l=l||fe,subscribe:function(c){y.subscribers.indexOf(c)===-1&&(y.subscribers.push(c),y.fire=s(y.fire,c))},unsubscribe:function(c){y.subscribers=y.subscribers.filter(function(g){return g!==c}),y.fire=y.subscribers.reduce(s,l)}};return n[a]=t[a]=y}E(d=a).forEach(function(c){var g=d[c];if(A(g))i(c,d[c][0],d[c][1]);else{if(g!=="asap")throw new F.InvalidArgument("Invalid event config");var f=i(c,Gt,function(){for(var p=arguments.length,v=new Array(p);p--;)v[p]=arguments[p];f.subscribers.forEach(function(h){Oe(function(){h.apply(null,v)})})})}})}}function Xt(e,t){return X(t).from({prototype:e}),t}function Mt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Zn(e,t){e.filter=bt(e.filter,t)}function er(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return bt(r(),t())}:t,e.justLimit=n&&!r}function Pn(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new F.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Jr(e,t,n){var r=Pn(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function On(e,t,n,r){var o=e.replayFilter?bt(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},a=function(s,l,d){var y,c;o&&!o(l,d,function(g){return l.stop(g)},function(g){return l.fail(g)})||((c=""+(y=l.primaryKey))=="[object ArrayBuffer]"&&(c=""+new Uint8Array(y)),te(i,c)||(i[c]=!0,t(s,l,d)))};return Promise.all([e.or._iterate(a,n),Zr(Jr(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Zr(Jr(e,r,n),bt(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Zr(e,t,n,r){var o=ge(r?function(i,a,s){return n(r(i),a,s)}:n);return e.then(function(i){if(i)return i.start(function(){var a=function(){return i.continue()};t&&!t(i,function(s){return a=s},function(s){i.stop(s),a=fe},function(s){i.fail(s),a=fe})||o(i.value,i,function(s){return a=s}),a()})})}var He=Symbol(),Ht=(eo.prototype.execute=function(e){if(this.add!==void 0){var t=this.add;if(A(t))return j(j([],A(e)?e:[],!0),t).sort();if(typeof t=="number")return(Number(e)||0)+t;if(typeof t=="bigint")try{return BigInt(e)+t}catch{return BigInt(0)+t}throw new TypeError("Invalid term ".concat(t))}if(this.remove!==void 0){var n=this.remove;if(A(n))return A(e)?e.filter(function(r){return!n.includes(r)}).sort():[];if(typeof n=="number")return Number(e)-n;if(typeof n=="bigint")try{return BigInt(e)-n}catch{return BigInt(0)-n}throw new TypeError("Invalid subtrahend ".concat(n))}return t=(t=this.replacePrefix)===null||t===void 0?void 0:t[0],t&&typeof e=="string"&&e.startsWith(t)?this.replacePrefix[1]+e.substring(t.length):e},eo);function eo(e){Object.assign(this,e)}var ri=(ae.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,we.bind(null,n.error)):n.table._trans("readonly",e).then(t)},ae.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,we.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},ae.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=bt(t.algorithm,e)},ae.prototype._iterate=function(e,t){return On(this._ctx,e,t,this._ctx.table.core)},ae.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&N(n,e),t._ctx=n,t},ae.prototype.raw=function(){return this._ctx.valueMapper=null,this},ae.prototype.each=function(e){var t=this._ctx;return this._read(function(n){return On(t,e,n,t.table.core)})},ae.prototype.count=function(e){var t=this;return this._read(function(n){var r=t._ctx,o=r.table.core;if(Mt(r,!0))return o.count({trans:n,query:{index:Pn(r,o.schema),range:r.range}}).then(function(a){return Math.min(a,r.limit)});var i=0;return On(r,function(){return++i,!1},n,o).then(function(){return i})}).then(e)},ae.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],o=n.length-1;function i(l,d){return d?i(l[n[d]],d-1):l[r]}var a=this._ctx.dir==="next"?1:-1;function s(l,d){return ee(i(l,o),i(d,o))*a}return this.toArray(function(l){return l.sort(s)}).then(t)},ae.prototype.toArray=function(e){var t=this;return this._read(function(n){var r=t._ctx;if(r.dir==="next"&&Mt(r,!0)&&0<r.limit){var o=r.valueMapper,i=Pn(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(function(s){return s=s.result,o?s.map(o):s})}var a=[];return On(r,function(s){return a.push(s)},n,r.table.core).then(function(){return a})},e)},ae.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,Mt(t)?er(t,function(){var n=e;return function(r,o){return n===0||(n===1?--n:o(function(){r.advance(n),n=0}),!1)}}):er(t,function(){var n=e;return function(){return--n<0}})),this},ae.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),er(this._ctx,function(){var t=e;return function(n,r,o){return--t<=0&&r(o),0<=t}},!0),this},ae.prototype.until=function(e,t){return Zn(this._ctx,function(n,r,o){return!e(n.value)||(r(o),t)}),this},ae.prototype.first=function(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)},ae.prototype.last=function(e){return this.reverse().first(e)},ae.prototype.filter=function(e){var t;return Zn(this._ctx,function(n){return e(n.value)}),(t=this._ctx).isMatch=bt(t.isMatch,e),this},ae.prototype.and=function(e){return this.filter(e)},ae.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},ae.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ae.prototype.desc=function(){return this.reverse()},ae.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,r){e(r.key,r)})},ae.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},ae.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,r){e(r.primaryKey,r)})},ae.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(r,o){n.push(o.key)}).then(function(){return n}).then(e)},ae.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&Mt(t,!0)&&0<t.limit)return this._read(function(r){var o=Pn(t,t.table.core.schema);return t.table.core.query({trans:r,values:!1,limit:t.limit,query:{index:o,range:t.range}})}).then(function(r){return r.result}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(r,o){n.push(o.primaryKey)}).then(function(){return n}).then(e)},ae.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},ae.prototype.firstKey=function(e){return this.limit(1).keys(function(t){return t[0]}).then(e)},ae.prototype.lastKey=function(e){return this.reverse().firstKey(e)},ae.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var t={};return Zn(this._ctx,function(o){var r=o.primaryKey.toString(),o=te(t,r);return t[r]=!0,!o}),this},ae.prototype.modify=function(e){var t=this,n=this._ctx;return this._write(function(r){var o,i,a;a=typeof e=="function"?e:(o=E(e),i=o.length,function(h){for(var w=!1,_=0;_<i;++_){var k=o[_],P=e[k],C=be(h,k);P instanceof Ht?(he(h,k,P.execute(C)),w=!0):C!==P&&(he(h,k,P),w=!0)}return w});var s=n.table.core,c=s.schema.primaryKey,l=c.outbound,d=c.extractKey,y=200,c=t.db._options.modifyChunkSize;c&&(y=typeof c=="object"?c[s.name]||c["*"]||200:c);function g(h,k){var _=k.failures,k=k.numFailures;p+=h-k;for(var P=0,C=E(_);P<C.length;P++){var T=C[P];f.push(_[T])}}var f=[],p=0,v=[];return t.clone().primaryKeys().then(function(h){function w(k){var P=Math.min(y,h.length-k);return s.getMany({trans:r,keys:h.slice(k,k+P),cache:"immutable"}).then(function(C){for(var T=[],S=[],K=l?[]:null,R=[],I=0;I<P;++I){var B=C[I],U={value:z(B),primKey:h[k+I]};a.call(U,U.value,U)!==!1&&(U.value==null?R.push(h[k+I]):l||ee(d(B),d(U.value))===0?(S.push(U.value),l&&K.push(h[k+I])):(R.push(h[k+I]),T.push(U.value)))}return Promise.resolve(0<T.length&&s.mutate({trans:r,type:"add",values:T}).then(function(H){for(var J in H.failures)R.splice(parseInt(J),1);g(T.length,H)})).then(function(){return(0<S.length||_&&typeof e=="object")&&s.mutate({trans:r,type:"put",keys:K,values:S,criteria:_,changeSpec:typeof e!="function"&&e,isAdditionalChunk:0<k}).then(function(H){return g(S.length,H)})}).then(function(){return(0<R.length||_&&e===tr)&&s.mutate({trans:r,type:"delete",keys:R,criteria:_,isAdditionalChunk:0<k}).then(function(H){return g(R.length,H)})}).then(function(){return h.length>k+P&&w(k+y)})})}var _=Mt(n)&&n.limit===1/0&&(typeof e!="function"||e===tr)&&{index:n.index,range:n.range};return w(0).then(function(){if(0<f.length)throw new nt("Error modifying one or more objects",f,p,v);return h.length})})})},ae.prototype.delete=function(){var e=this._ctx,t=e.range;return Mt(e)&&(e.isPrimKey||t.type===3)?this._write(function(n){var r=e.table.core.schema.primaryKey,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then(function(i){return e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then(function(a){var s=a.failures;if(a.lastResult,a.results,a=a.numFailures,a)throw new nt("Could not delete some values",Object.keys(s).map(function(l){return s[l]}),i-a);return i-a})})}):this.modify(tr)},ae);function ae(){}var tr=function(e,t){return t.value=null};function oi(e,t){return e<t?-1:e===t?0:1}function ii(e,t){return t<e?-1:e===t?0:1}function Be(e,t,n){return e=e instanceof no?new e.Collection(e):e,e._ctx.error=new(n||TypeError)(t),e}function qt(e){return new e.Collection(e,function(){return to("")}).limit(0)}function An(e,t,n,r){var o,i,a,s,l,d,y,c=n.length;if(!n.every(function(p){return typeof p=="string"}))return Be(e,Ur);function g(p){o=p==="next"?function(h){return h.toUpperCase()}:function(h){return h.toLowerCase()},i=p==="next"?function(h){return h.toLowerCase()}:function(h){return h.toUpperCase()},a=p==="next"?oi:ii;var v=n.map(function(h){return{lower:i(h),upper:o(h)}}).sort(function(h,w){return a(h.lower,w.lower)});s=v.map(function(h){return h.upper}),l=v.map(function(h){return h.lower}),y=(d=p)==="next"?"":r}g("next"),e=new e.Collection(e,function(){return st(s[0],l[c-1]+r)}),e._ondirectionchange=function(p){g(p)};var f=0;return e._addAlgorithm(function(p,v,h){var w=p.key;if(typeof w!="string")return!1;var _=i(w);if(t(_,l,f))return!0;for(var k=null,P=f;P<c;++P){var C=function(T,S,K,R,I,B){for(var U=Math.min(T.length,R.length),H=-1,J=0;J<U;++J){var De=S[J];if(De!==R[J])return I(T[J],K[J])<0?T.substr(0,J)+K[J]+K.substr(J+1):I(T[J],R[J])<0?T.substr(0,J)+R[J]+K.substr(J+1):0<=H?T.substr(0,H)+S[H]+K.substr(H+1):null;I(T[J],De)<0&&(H=J)}return U<R.length&&B==="next"?T+K.substr(T.length):U<T.length&&B==="prev"?T.substr(0,K.length):H<0?null:T.substr(0,H)+R[H]+K.substr(H+1)}(w,_,s[P],l[P],a,d);C===null&&k===null?f=P+1:(k===null||0<a(k,C))&&(k=C)}return v(k!==null?function(){p.continue(k+y)}:h),!1}),e}function st(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function to(e){return{type:1,lower:e,upper:e}}var no=(Object.defineProperty(Ce.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ce.prototype.between=function(e,t,n,r){n=n!==!1,r=r===!0;try{return 0<this._cmp(e,t)||this._cmp(e,t)===0&&(n||r)&&(!n||!r)?qt(this):new this.Collection(this,function(){return st(e,t,!n,!r)})}catch{return Be(this,Xe)}},Ce.prototype.equals=function(e){return e==null?Be(this,Xe):new this.Collection(this,function(){return to(e)})},Ce.prototype.above=function(e){return e==null?Be(this,Xe):new this.Collection(this,function(){return st(e,void 0,!0)})},Ce.prototype.aboveOrEqual=function(e){return e==null?Be(this,Xe):new this.Collection(this,function(){return st(e,void 0,!1)})},Ce.prototype.below=function(e){return e==null?Be(this,Xe):new this.Collection(this,function(){return st(void 0,e,!1,!0)})},Ce.prototype.belowOrEqual=function(e){return e==null?Be(this,Xe):new this.Collection(this,function(){return st(void 0,e)})},Ce.prototype.startsWith=function(e){return typeof e!="string"?Be(this,Ur):this.between(e,e+gt,!0,!0)},Ce.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):An(this,function(t,n){return t.indexOf(n[0])===0},[e],gt)},Ce.prototype.equalsIgnoreCase=function(e){return An(this,function(t,n){return t===n[0]},[e],"")},Ce.prototype.anyOfIgnoreCase=function(){var e=le.apply(ie,arguments);return e.length===0?qt(this):An(this,function(t,n){return n.indexOf(t)!==-1},e,"")},Ce.prototype.startsWithAnyOfIgnoreCase=function(){var e=le.apply(ie,arguments);return e.length===0?qt(this):An(this,function(t,n){return n.some(function(r){return t.indexOf(r)===0})},e,gt)},Ce.prototype.anyOf=function(){var e=this,t=le.apply(ie,arguments),n=this._cmp;try{t.sort(n)}catch{return Be(this,Xe)}if(t.length===0)return qt(this);var r=new this.Collection(this,function(){return st(t[0],t[t.length-1])});r._ondirectionchange=function(i){n=i==="next"?e._ascending:e._descending,t.sort(n)};var o=0;return r._addAlgorithm(function(i,a,s){for(var l=i.key;0<n(l,t[o]);)if(++o===t.length)return a(s),!1;return n(l,t[o])===0||(a(function(){i.continue(t[o])}),!1)}),r},Ce.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ce.prototype.noneOf=function(){var e=le.apply(ie,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Be(this,Xe)}var t=e.reduce(function(n,r){return n?n.concat([[n[n.length-1][1],r]]):[[-1/0,r]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Ce.prototype.inAnyRange=function(w,t){var n=this,r=this._cmp,o=this._ascending,i=this._descending,a=this._min,s=this._max;if(w.length===0)return qt(this);if(!w.every(function(_){return _[0]!==void 0&&_[1]!==void 0&&o(_[0],_[1])<=0}))return Be(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",F.InvalidArgument);var l=!t||t.includeLowers!==!1,d=t&&t.includeUppers===!0,y,c=o;function g(_,k){return c(_[0],k[0])}try{(y=w.reduce(function(_,k){for(var P=0,C=_.length;P<C;++P){var T=_[P];if(r(k[0],T[1])<0&&0<r(k[1],T[0])){T[0]=a(T[0],k[0]),T[1]=s(T[1],k[1]);break}}return P===C&&_.push(k),_},[])).sort(g)}catch{return Be(this,Xe)}var f=0,p=d?function(_){return 0<o(_,y[f][1])}:function(_){return 0<=o(_,y[f][1])},v=l?function(_){return 0<i(_,y[f][0])}:function(_){return 0<=i(_,y[f][0])},h=p,w=new this.Collection(this,function(){return st(y[0][0],y[y.length-1][1],!l,!d)});return w._ondirectionchange=function(_){c=_==="next"?(h=p,o):(h=v,i),y.sort(g)},w._addAlgorithm(function(_,k,P){for(var C,T=_.key;h(T);)if(++f===y.length)return k(P),!1;return!p(C=T)&&!v(C)||(n._cmp(T,y[f][1])===0||n._cmp(T,y[f][0])===0||k(function(){c===o?_.continue(y[f][0]):_.continue(y[f][1])}),!1)}),w},Ce.prototype.startsWithAnyOf=function(){var e=le.apply(ie,arguments);return e.every(function(t){return typeof t=="string"})?e.length===0?qt(this):this.inAnyRange(e.map(function(t){return[t,t+gt]})):Be(this,"startsWithAnyOf() only works with strings")},Ce);function Ce(){}function Ge(e){return ge(function(t){return Jt(t),e(t.target.error),!1})}function Jt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Zt="storagemutated",nr="x-storagemutated-1",ut=Qt(null,Zt),ai=(We.prototype._lock=function(){return Pe(!D.global),++this._reculock,this._reculock!==1||D.global||(D.lockOwnerFor=this),this},We.prototype._unlock=function(){if(Pe(!D.global),--this._reculock==0)for(D.global||(D.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{vt(e[1],e[0])}catch{}}return this},We.prototype._locked=function(){return this._reculock&&D.lockOwnerFor!==this},We.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(Pe(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new F.DatabaseClosed(r);case"MissingAPIError":throw new F.MissingAPI(r.message,r);default:throw new F.OpenFailed(r)}if(!this.active)throw new F.TransactionInactive;return Pe(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ge(function(o){Jt(o),t._reject(e.error)}),e.onabort=ge(function(o){Jt(o),t.active&&t._reject(new F.Abort(e.error)),t.active=!1,t.on("abort").fire(o)}),e.oncomplete=ge(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&ut.storagemutated.fire(e.mutatedParts)}),this},We.prototype._promise=function(e,t,n){var r=this;if(e==="readwrite"&&this.mode!=="readwrite")return we(new F.ReadOnly("Transaction is readonly"));if(!this.active)return we(new F.TransactionInactive);if(this._locked())return new M(function(i,a){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,a)},D])});if(n)return ot(function(){var i=new M(function(a,s){r._lock();var l=t(a,s,r);l&&l.then&&l.then(a,s)});return i.finally(function(){return r._unlock()}),i._lib=!0,i});var o=new M(function(i,a){var s=t(i,a,r);s&&s.then&&s.then(i,a)});return o._lib=!0,o},We.prototype._root=function(){return this.parent?this.parent._root():this},We.prototype.waitFor=function(e){var t,n=this._root(),r=M.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return r}):(n._waitingFor=r,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function i(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=i)}());var o=n._waitingFor;return new M(function(i,a){r.then(function(s){return n._waitingQueue.push(ge(i.bind(null,s)))},function(s){return n._waitingQueue.push(ge(a.bind(null,s)))}).finally(function(){n._waitingFor===o&&(n._waitingFor=null)})})},We.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new F.Abort))},We.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(te(t,e))return t[e];var n=this.schema[e];if(!n)throw new F.NotFound("Table "+e+" not part of transaction");return n=new this.db.Table(e,n,this),n.core=this.db.core.table(e),t[e]=n},We);function We(){}function rr(e,t,n,r,o,i,a){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+ro(t)}}function ro(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function or(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(o){return[o.name,o]},n.reduce(function(o,i,a){return a=r(i,a),a&&(o[a[0]]=a[1]),o},{}))};var r}var en=function(e){try{return e.only([[]]),en=function(){return[[]]},[[]]}catch{return en=function(){return gt},gt}};function ir(e){return e==null?function(){}:typeof e=="string"?(t=e).split(".").length===1?function(n){return n[t]}:function(n){return be(n,t)}:function(n){return be(n,e)};var t}function oo(e){return[].slice.call(e)}var si=0;function tn(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function ui(e,t,l){function r(h){if(h.type===3)return null;if(h.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var f=h.lower,p=h.upper,v=h.lowerOpen,h=h.upperOpen;return f===void 0?p===void 0?null:t.upperBound(p,!!h):p===void 0?t.lowerBound(f,!!v):t.bound(f,p,!!v,!!h)}function o(g){var f,p=g.name;return{name:p,schema:g,mutate:function(v){var h=v.trans,w=v.type,_=v.keys,k=v.values,P=v.range;return new Promise(function(C,T){C=ge(C);var S=h.objectStore(p),K=S.keyPath==null,R=w==="put"||w==="add";if(!R&&w!=="delete"&&w!=="deleteRange")throw new Error("Invalid operation type: "+w);var I,B=(_||k||{length:1}).length;if(_&&k&&_.length!==k.length)throw new Error("Given keys array must have same length as given values array.");if(B===0)return C({numFailures:0,failures:{},results:[],lastResult:void 0});function U(Ie){++De,Jt(Ie)}var H=[],J=[],De=0;if(w==="deleteRange"){if(P.type===4)return C({numFailures:De,failures:J,results:[],lastResult:void 0});P.type===3?H.push(I=S.clear()):H.push(I=S.delete(r(P)))}else{var K=R?K?[k,_]:[k,null]:[_,null],L=K[0],je=K[1];if(R)for(var Ke=0;Ke<B;++Ke)H.push(I=je&&je[Ke]!==void 0?S[w](L[Ke],je[Ke]):S[w](L[Ke])),I.onerror=U;else for(Ke=0;Ke<B;++Ke)H.push(I=S[w](L[Ke])),I.onerror=U}function Nn(Ie){Ie=Ie.target.result,H.forEach(function(_t,kr){return _t.error!=null&&(J[kr]=_t.error)}),C({numFailures:De,failures:J,results:w==="delete"?_:H.map(function(_t){return _t.result}),lastResult:Ie})}I.onerror=function(Ie){U(Ie),Nn(Ie)},I.onsuccess=Nn})},getMany:function(v){var h=v.trans,w=v.keys;return new Promise(function(_,k){_=ge(_);for(var P,C=h.objectStore(p),T=w.length,S=new Array(T),K=0,R=0,I=function(H){H=H.target,S[H._pos]=H.result,++R===K&&_(S)},B=Ge(k),U=0;U<T;++U)w[U]!=null&&((P=C.get(w[U]))._pos=U,P.onsuccess=I,P.onerror=B,++K);K===0&&_(S)})},get:function(v){var h=v.trans,w=v.key;return new Promise(function(_,k){_=ge(_);var P=h.objectStore(p).get(w);P.onsuccess=function(C){return _(C.target.result)},P.onerror=Ge(k)})},query:(f=d,function(v){return new Promise(function(h,w){h=ge(h);var _,k,P,K=v.trans,C=v.values,T=v.limit,I=v.query,S=T===1/0?void 0:T,R=I.index,I=I.range,K=K.objectStore(p),R=R.isPrimaryKey?K:K.index(R.name),I=r(I);if(T===0)return h({result:[]});f?((S=C?R.getAll(I,S):R.getAllKeys(I,S)).onsuccess=function(B){return h({result:B.target.result})},S.onerror=Ge(w)):(_=0,k=!C&&"openKeyCursor"in R?R.openKeyCursor(I):R.openCursor(I),P=[],k.onsuccess=function(B){var U=k.result;return U?(P.push(C?U.value:U.primaryKey),++_===T?h({result:P}):void U.continue()):h({result:P})},k.onerror=Ge(w))})}),openCursor:function(v){var h=v.trans,w=v.values,_=v.query,k=v.reverse,P=v.unique;return new Promise(function(C,T){C=ge(C);var R=_.index,S=_.range,K=h.objectStore(p),K=R.isPrimaryKey?K:K.index(R.name),R=k?P?"prevunique":"prev":P?"nextunique":"next",I=!w&&"openKeyCursor"in K?K.openKeyCursor(r(S),R):K.openCursor(r(S),R);I.onerror=Ge(T),I.onsuccess=ge(function(B){var U,H,J,De,L=I.result;L?(L.___id=++si,L.done=!1,U=L.continue.bind(L),H=(H=L.continuePrimaryKey)&&H.bind(L),J=L.advance.bind(L),De=function(){throw new Error("Cursor not stopped")},L.trans=h,L.stop=L.continue=L.continuePrimaryKey=L.advance=function(){throw new Error("Cursor not started")},L.fail=ge(T),L.next=function(){var je=this,Ke=1;return this.start(function(){return Ke--?je.continue():je.stop()}).then(function(){return je})},L.start=function(je){function Ke(){if(I.result)try{je()}catch(Ie){L.fail(Ie)}else L.done=!0,L.start=function(){throw new Error("Cursor behind last entry")},L.stop()}var Nn=new Promise(function(Ie,_t){Ie=ge(Ie),I.onerror=Ge(_t),L.fail=_t,L.stop=function(kr){L.stop=L.continue=L.continuePrimaryKey=L.advance=De,Ie(kr)}});return I.onsuccess=ge(function(Ie){I.onsuccess=Ke,Ke()}),L.continue=U,L.continuePrimaryKey=H,L.advance=J,Ke(),Nn},C(L)):C(null)},T)})},count:function(v){var h=v.query,w=v.trans,_=h.index,k=h.range;return new Promise(function(P,C){var T=w.objectStore(p),S=_.isPrimaryKey?T:T.index(_.name),T=r(k),S=T?S.count(T):S.count();S.onsuccess=ge(function(K){return P(K.target.result)}),S.onerror=Ge(C)})}}}var i,a,s,y=(a=l,s=oo((i=e).objectStoreNames),{schema:{name:i.name,tables:s.map(function(g){return a.objectStore(g)}).map(function(g){var f=g.keyPath,h=g.autoIncrement,p=A(f),v={},h={name:g.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:f==null,compound:p,keyPath:f,autoIncrement:h,unique:!0,extractKey:ir(f)},indexes:oo(g.indexNames).map(function(w){return g.index(w)}).map(function(P){var _=P.name,k=P.unique,C=P.multiEntry,P=P.keyPath,C={name:_,compound:A(P),keyPath:P,unique:k,multiEntry:C,extractKey:ir(P)};return v[tn(P)]=C}),getIndexByKeyPath:function(w){return v[tn(w)]}};return v[":id"]=h.primaryKey,f!=null&&(v[tn(f)]=h.primaryKey),h})},hasGetAll:0<s.length&&"getAll"in a.objectStore(s[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),l=y.schema,d=y.hasGetAll,y=l.tables.map(o),c={};return y.forEach(function(g){return c[g.name]=g}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(g){if(!c[g])throw new Error("Table '".concat(g,"' not found"));return c[g]},MIN_KEY:-1/0,MAX_KEY:en(t),schema:l}}function ci(e,t,n,r){var o=n.IDBKeyRange;return n.indexedDB,{dbcore:(r=ui(t,o,r),e.dbcore.reduce(function(i,a){return a=a.create,x(x({},i),a(i))},r))}}function Cn(e,r){var n=r.db,r=ci(e._middlewares,n,e._deps,r);e.core=r.dbcore,e.tables.forEach(function(o){var i=o.name;e.core.schema.tables.some(function(a){return a.name===i})&&(o.core=e.core.table(i),e[i]instanceof e.Table&&(e[i].core=o.core))})}function Sn(e,t,n,r){n.forEach(function(o){var i=r[o];t.forEach(function(a){var s=function l(d,y){return Q(d,y)||(d=se(d))&&l(d,y)}(a,o);(!s||"value"in s&&s.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?ne(a,o,{get:function(){return this.table(o)},set:function(l){ue(this,o,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):a[o]=new e.Table(o,i))})})}function ar(e,t){t.forEach(function(n){for(var r in n)n[r]instanceof e.Table&&delete n[r]})}function li(e,t){return e._cfg.version-t._cfg.version}function fi(e,t,n,r){var o=e._dbSchema;n.objectStoreNames.contains("$meta")&&!o.$meta&&(o.$meta=or("$meta",ao("")[0],[]),e._storeNames.push("$meta"));var i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);var a=i._reject.bind(i),s=D.transless||D;ot(function(){return D.trans=i,D.transless=s,t!==0?(Cn(e,n),d=t,((l=i).storeNames.includes("$meta")?l.table("$meta").get("version").then(function(y){return y??d}):M.resolve(d)).then(function(y){return g=y,f=i,p=n,v=[],y=(c=e)._versions,h=c._dbSchema=jn(0,c.idbdb,p),(y=y.filter(function(w){return w._cfg.version>=g})).length!==0?(y.forEach(function(w){v.push(function(){var _=h,k=w._cfg.dbschema;Kn(c,_,p),Kn(c,k,p),h=c._dbSchema=k;var P=sr(_,k);P.add.forEach(function(R){ur(p,R[0],R[1].primKey,R[1].indexes)}),P.change.forEach(function(R){if(R.recreate)throw new F.Upgrade("Not yet support for changing primary key");var I=p.objectStore(R.name);R.add.forEach(function(B){return En(I,B)}),R.change.forEach(function(B){I.deleteIndex(B.name),En(I,B)}),R.del.forEach(function(B){return I.deleteIndex(B)})});var C=w._cfg.contentUpgrade;if(C&&w._cfg.version>g){Cn(c,p),f._memoizedTables={};var T=Te(k);P.del.forEach(function(R){T[R]=_[R]}),ar(c,[c.Transaction.prototype]),Sn(c,[c.Transaction.prototype],E(T),T),f.schema=T;var S,K=_e(C);return K&&Tt(),P=M.follow(function(){var R;(S=C(f))&&K&&(R=it.bind(null,null),S.then(R,R))}),S&&typeof S.then=="function"?M.resolve(S):P.then(function(){return S})}}),v.push(function(_){var k,P,C=w._cfg.dbschema;k=C,P=_,[].slice.call(P.db.objectStoreNames).forEach(function(T){return k[T]==null&&P.db.deleteObjectStore(T)}),ar(c,[c.Transaction.prototype]),Sn(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),f.schema=c._dbSchema}),v.push(function(_){c.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(c.idbdb.version/10)===w._cfg.version?(c.idbdb.deleteObjectStore("$meta"),delete c._dbSchema.$meta,c._storeNames=c._storeNames.filter(function(k){return k!=="$meta"})):_.objectStore("$meta").put(w._cfg.version,"version"))})}),function w(){return v.length?M.resolve(v.shift()(f.idbtrans)).then(w):M.resolve()}().then(function(){io(h,p)})):M.resolve();var c,g,f,p,v,h}).catch(a)):(E(o).forEach(function(y){ur(n,y,o[y].primKey,o[y].indexes)}),Cn(e,n),void M.follow(function(){return e.on.populate.fire(i)}).catch(a));var l,d})}function di(e,t){io(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=jn(0,e.idbdb,t);Kn(e,e._dbSchema,t);for(var r=0,o=sr(n,e._dbSchema).change;r<o.length;r++){var i=function(a){if(a.change.length||a.recreate)return console.warn("Unable to patch indexes of table ".concat(a.name," because it has changes on the type of index or primary key.")),{value:void 0};var s=t.objectStore(a.name);a.add.forEach(function(l){Le&&console.debug("Dexie upgrade patch: Creating missing index ".concat(a.name,".").concat(l.src)),En(s,l)})}(o[r]);if(typeof i=="object")return i.value}}function sr(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var o=e[n],i=t[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto)a.recreate=!0,r.change.push(a);else{var s=o.idxByName,l=i.idxByName,d=void 0;for(d in s)l[d]||a.del.push(d);for(d in l){var y=s[d],c=l[d];y?y.src!==c.src&&a.change.push(c):a.add.push(c)}(0<a.del.length||0<a.add.length||0<a.change.length)&&r.change.push(a)}}else r.add.push([n,i])}return r}function ur(e,t,n,r){var o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(i){return En(o,i)}),o}function io(e,t){E(e).forEach(function(n){t.db.objectStoreNames.contains(n)||(Le&&console.debug("Dexie: Creating missing table",n),ur(t,n,e[n].primKey,e[n].indexes))})}function En(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function jn(e,t,n){var r={};return Y(t.objectStoreNames,0).forEach(function(o){for(var i=n.objectStore(o),a=rr(ro(d=i.keyPath),d||"",!0,!1,!!i.autoIncrement,d&&typeof d!="string",!0),s=[],l=0;l<i.indexNames.length;++l){var y=i.index(i.indexNames[l]),d=y.keyPath,y=rr(y.name,d,!!y.unique,!!y.multiEntry,!1,d&&typeof d!="string",!1);s.push(y)}r[o]=or(o,a,s)}),r}function Kn(e,t,n){for(var r=n.db.objectStoreNames,o=0;o<r.length;++o){var i=r[o],a=n.objectStore(i);e._hasGetAll="getAll"in a;for(var s=0;s<a.indexNames.length;++s){var l=a.indexNames[s],d=a.index(l).keyPath,y=typeof d=="string"?d:"["+Y(d).join("+")+"]";!t[i]||(d=t[i].idxByName[y])&&(d.name=l,delete t[i].idxByName[y],t[i].idxByName[l]=d)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&O.WorkerGlobalScope&&O instanceof O.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function ao(e){return e.split(",").map(function(t,n){var r=(t=t.trim()).replace(/([&*]|\+\+)/g,""),o=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return rr(r,o||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),A(o),n===0)})}var hi=(In.prototype._parseStoresSpec=function(e,t){E(e).forEach(function(n){if(e[n]!==null){var r=ao(e[n]),o=r.shift();if(o.unique=!0,o.multi)throw new F.Schema("Primary key cannot be multi-valued");r.forEach(function(i){if(i.auto)throw new F.Schema("Only primary key can be marked as autoIncrement (++)");if(!i.keyPath)throw new F.Schema("Index must have a name and cannot be an empty string")}),t[n]=or(n,o,r)}})},In.prototype.stores=function(n){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?N(this._cfg.storesSource,n):n;var n=t._versions,r={},o={};return n.forEach(function(i){N(r,i._cfg.storesSource),o=i._cfg.dbschema={},i._parseStoresSpec(r,o)}),t._dbSchema=o,ar(t,[t._allTables,t,t.Transaction.prototype]),Sn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],E(o),o),t._storeNames=E(o),this},In.prototype.upgrade=function(e){return this._cfg.contentUpgrade=Vn(this._cfg.contentUpgrade||fe,e),this},In);function In(){}function cr(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Je(_n,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function lr(e){return e&&typeof e.databases=="function"}function fr(e){return ot(function(){return D.letThrough=!0,e()})}function dr(e){return!("from"in e)}var Ee=function(e,t){if(!this){var n=new Ee;return e&&"d"in e&&N(n,e),n}N(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function nn(e,t,n){var r=ee(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(dr(e))return N(e,{from:t,to:n,d:1});var o=e.l,r=e.r;if(ee(n,e.from)<0)return o?nn(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},uo(e);if(0<ee(t,e.to))return r?nn(r,t,n):e.r={from:t,to:n,d:1,l:null,r:null},uo(e);ee(t,e.from)<0&&(e.from=t,e.l=null,e.d=r?r.d+1:1),0<ee(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,o&&!e.l&&rn(e,o),r&&n&&rn(e,r)}}function rn(e,t){dr(t)||function n(r,l){var i=l.from,a=l.to,s=l.l,l=l.r;nn(r,i,a),s&&n(r,s),l&&n(r,l)}(e,t)}function so(e,t){var n=Tn(t),r=n.next();if(r.done)return!1;for(var o=r.value,i=Tn(e),a=i.next(o.from),s=a.value;!r.done&&!a.done;){if(ee(s.from,o.to)<=0&&0<=ee(s.to,o.from))return!0;ee(o.from,s.from)<0?o=(r=n.next(s.from)).value:s=(a=i.next(o.from)).value}return!1}function Tn(e){var t=dr(e)?null:{s:0,n:e};return{next:function(n){for(var r=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&ee(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||ee(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function uo(e){var t,n,r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),o=1<r?"r":r<-1?"l":"";o&&(t=o=="r"?"l":"r",n=x({},e),r=e[o],e.from=r.from,e.to=r.to,e[o]=r[o],n[o]=r[t],(e[t]=n).d=co(n)),e.d=co(e)}function co(n){var t=n.r,n=n.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}function Rn(e,t){return E(t).forEach(function(n){e[n]?rn(e[n],t[n]):e[n]=function r(o){var i,a,s={};for(i in o)te(o,i)&&(a=o[i],s[i]=!a||typeof a!="object"||ve.has(a.constructor)?a:r(a));return s}(t[n])}),e}function hr(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&so(t[n],e[n])})}oe(Ee.prototype,((Ne={add:function(e){return rn(this,e),this},addKey:function(e){return nn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return nn(t,n,n)}),this},hasKey:function(e){var t=Tn(this).next(e).value;return t&&ee(t.from,e)<=0&&0<=ee(t.to,e)}})[W]=function(){return Tn(this)},Ne));var wt={},pr={},yr=!1;function Mn(e){Rn(pr,e),yr||(yr=!0,setTimeout(function(){yr=!1,mr(pr,!(pr={}))},0))}function mr(e,t){t===void 0&&(t=!1);var n=new Set;if(e.all)for(var r=0,o=Object.values(wt);r<o.length;r++)lo(a=o[r],e,n,t);else for(var i in e){var a,s=/^idb\:\/\/(.*)\/(.*)\//.exec(i);s&&(i=s[1],s=s[2],(a=wt["idb://".concat(i,"/").concat(s)])&&lo(a,e,n,t))}n.forEach(function(l){return l()})}function lo(e,t,n,r){for(var o=[],i=0,a=Object.entries(e.queries.query);i<a.length;i++){for(var s=a[i],l=s[0],d=[],y=0,c=s[1];y<c.length;y++){var g=c[y];hr(t,g.obsSet)?g.subscribers.forEach(function(h){return n.add(h)}):r&&d.push(g)}r&&o.push([l,d])}if(r)for(var f=0,p=o;f<p.length;f++){var v=p[f],l=v[0],d=v[1];e.queries.query[l]=d}}function pi(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?we(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller,o=Math.round(10*e.verno),i=!1;function a(){if(t.openCanceller!==r)throw new F.DatabaseClosed("db.open() was cancelled")}function s(){return new M(function(g,f){if(a(),!n)throw new F.MissingAPI;var p=e.name,v=t.autoSchema||!o?n.open(p):n.open(p,o);if(!v)throw new F.MissingAPI;v.onerror=Ge(f),v.onblocked=ge(e._fireOnBlocked),v.onupgradeneeded=ge(function(h){var w;y=v.transaction,t.autoSchema&&!e._options.allowEmptyDB?(v.onerror=Jt,y.abort(),v.result.close(),(w=n.deleteDatabase(p)).onsuccess=w.onerror=ge(function(){f(new F.NoSuchDatabase("Database ".concat(p," doesnt exist")))})):(y.onerror=Ge(f),h=h.oldVersion>Math.pow(2,62)?0:h.oldVersion,c=h<1,e.idbdb=v.result,i&&di(e,y),fi(e,h/10,y,f))},f),v.onsuccess=ge(function(){y=null;var h,w,_,k,P,C=e.idbdb=v.result,T=Y(C.objectStoreNames);if(0<T.length)try{var S=C.transaction((k=T).length===1?k[0]:k,"readonly");if(t.autoSchema)w=C,_=S,(h=e).verno=w.version/10,_=h._dbSchema=jn(0,w,_),h._storeNames=Y(w.objectStoreNames,0),Sn(h,[h._allTables],E(_),_);else if(Kn(e,e._dbSchema,S),((P=sr(jn(0,(P=e).idbdb,S),P._dbSchema)).add.length||P.change.some(function(K){return K.add.length||K.change.length}))&&!i)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),C.close(),o=C.version+1,i=!0,g(s());Cn(e,S)}catch{}Rt.push(e),C.onversionchange=ge(function(K){t.vcFired=!0,e.on("versionchange").fire(K)}),C.onclose=ge(function(K){e.on("close").fire(K)}),c&&(P=e._deps,S=p,C=P.indexedDB,P=P.IDBKeyRange,lr(C)||S===_n||cr(C,P).put({name:S}).catch(fe)),g()},f)}).catch(function(g){switch(g==null?void 0:g.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),s();break;case"VersionError":if(0<o)return o=0,s()}return M.reject(g)})}var l,d=t.dbReadyResolve,y=null,c=!1;return M.race([r,(typeof navigator>"u"?M.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(g){function f(){return indexedDB.databases().finally(g)}l=setInterval(f,100),f()}).finally(function(){return clearInterval(l)}):Promise.resolve()).then(s)]).then(function(){return a(),t.onReadyBeingFired=[],M.resolve(fr(function(){return e.on.ready.fire(e.vip)})).then(function g(){if(0<t.onReadyBeingFired.length){var f=t.onReadyBeingFired.reduce(Vn,fe);return t.onReadyBeingFired=[],M.resolve(fr(function(){return f(e.vip)})).then(g)}})}).finally(function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(g){t.dbOpenError=g;try{y&&y.abort()}catch{}return r===t.openCanceller&&e._close(),we(g)}).finally(function(){t.openComplete=!0,d()}).then(function(){var g;return c&&(g={},e.tables.forEach(function(f){f.schema.indexes.forEach(function(p){p.name&&(g["idb://".concat(e.name,"/").concat(f.name,"/").concat(p.name)]=new Ee(-1/0,[[[]]]))}),g["idb://".concat(e.name,"/").concat(f.name,"/")]=g["idb://".concat(e.name,"/").concat(f.name,"/:dels")]=new Ee(-1/0,[[[]]])}),ut(Zt).fire(g),mr(g,!0)),e})}function vr(e){function t(i){return e.next(i)}var n=o(t),r=o(function(i){return e.throw(i)});function o(i){return function(l){var s=i(l),l=s.value;return s.done?l:l&&typeof l.then=="function"?l.then(n,r):A(l)?Promise.all(l).then(n,r):n(l)}}return o(t)()}function qn(e,t,n){for(var r=A(e)?e.slice():[e],o=0;o<n;++o)r.push(t);return r}var yi={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return x(x({},e),{table:function(t){var n=e.table(t),r=n.schema,o={},i=[];function a(c,g,f){var p=tn(c),v=o[p]=o[p]||[],h=c==null?0:typeof c=="string"?1:c.length,w=0<g,w=x(x({},f),{name:w?"".concat(p,"(virtual-from:").concat(f.name,")"):f.name,lowLevelIndex:f,isVirtual:w,keyTail:g,keyLength:h,extractKey:ir(c),unique:!w&&f.unique});return v.push(w),w.isPrimaryKey||i.push(w),1<h&&a(h===2?c[0]:c.slice(0,h-1),g+1,f),v.sort(function(_,k){return _.keyTail-k.keyTail}),w}t=a(r.primaryKey.keyPath,0,r.primaryKey),o[":id"]=[t];for(var s=0,l=r.indexes;s<l.length;s++){var d=l[s];a(d.keyPath,0,d)}function y(c){var g,f=c.query.index;return f.isVirtual?x(x({},c),{query:{index:f.lowLevelIndex,range:(g=c.query.range,f=f.keyTail,{type:g.type===1?2:g.type,lower:qn(g.lower,g.lowerOpen?e.MAX_KEY:e.MIN_KEY,f),lowerOpen:!0,upper:qn(g.upper,g.upperOpen?e.MIN_KEY:e.MAX_KEY,f),upperOpen:!0})}}):c}return x(x({},n),{schema:x(x({},r),{primaryKey:t,indexes:i,getIndexByKeyPath:function(c){return(c=o[tn(c)])&&c[0]}}),count:function(c){return n.count(y(c))},query:function(c){return n.query(y(c))},openCursor:function(c){var g=c.query.index,f=g.keyTail,p=g.isVirtual,v=g.keyLength;return p?n.openCursor(y(c)).then(function(w){return w&&h(w)}):n.openCursor(c);function h(w){return Object.create(w,{continue:{value:function(_){_!=null?w.continue(qn(_,c.reverse?e.MAX_KEY:e.MIN_KEY,f)):c.unique?w.continue(w.key.slice(0,v).concat(c.reverse?e.MIN_KEY:e.MAX_KEY,f)):w.continue()}},continuePrimaryKey:{value:function(_,k){w.continuePrimaryKey(qn(_,e.MAX_KEY,f),k)}},primaryKey:{get:function(){return w.primaryKey}},key:{get:function(){var _=w.key;return v===1?_[0]:_.slice(0,v)}},value:{get:function(){return w.value}}})}}})}})}};function gr(e,t,n,r){return n=n||{},r=r||"",E(e).forEach(function(o){var i,a,s;te(t,o)?(i=e[o],a=t[o],typeof i=="object"&&typeof a=="object"&&i&&a?(s=G(i))!==G(a)?n[r+o]=t[o]:s==="Object"?gr(i,a,n,r+o+"."):i!==a&&(n[r+o]=t[o]):i!==a&&(n[r+o]=t[o])):n[r+o]=void 0}),E(t).forEach(function(o){te(e,o)||(n[r+o]=t[o])}),n}function br(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var mi={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return x(x({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey;return x(x({},n),{mutate:function(o){var i=D.trans,a=i.table(t).hook,s=a.deleting,l=a.creating,d=a.updating;switch(o.type){case"add":if(l.fire===fe)break;return i._promise("readwrite",function(){return y(o)},!0);case"put":if(l.fire===fe&&d.fire===fe)break;return i._promise("readwrite",function(){return y(o)},!0);case"delete":if(s.fire===fe)break;return i._promise("readwrite",function(){return y(o)},!0);case"deleteRange":if(s.fire===fe)break;return i._promise("readwrite",function(){return function c(g,f,p){return n.query({trans:g,values:!1,query:{index:r,range:f},limit:p}).then(function(v){var h=v.result;return y({type:"delete",keys:h,trans:g}).then(function(w){return 0<w.numFailures?Promise.reject(w.failures[0]):h.length<p?{failures:[],numFailures:0,lastResult:void 0}:c(g,x(x({},f),{lower:h[h.length-1],lowerOpen:!0}),p)})})}(o.trans,o.range,1e4)},!0)}return n.mutate(o);function y(c){var g,f,p,v=D.trans,h=c.keys||br(r,c);if(!h)throw new Error("Keys missing");return(c=c.type==="add"||c.type==="put"?x(x({},c),{keys:h}):x({},c)).type!=="delete"&&(c.values=j([],c.values)),c.keys&&(c.keys=j([],c.keys)),g=n,p=h,((f=c).type==="add"?Promise.resolve([]):g.getMany({trans:f.trans,keys:p,cache:"immutable"})).then(function(w){var _=h.map(function(k,P){var C,T,S,K=w[P],R={onerror:null,onsuccess:null};return c.type==="delete"?s.fire.call(R,k,K,v):c.type==="add"||K===void 0?(C=l.fire.call(R,k,c.values[P],v),k==null&&C!=null&&(c.keys[P]=k=C,r.outbound||he(c.values[P],r.keyPath,k))):(C=gr(K,c.values[P]),(T=d.fire.call(R,C,k,K,v))&&(S=c.values[P],Object.keys(T).forEach(function(I){te(S,I)?S[I]=T[I]:he(S,I,T[I])}))),R});return n.mutate(c).then(function(k){for(var P=k.failures,C=k.results,T=k.numFailures,k=k.lastResult,S=0;S<h.length;++S){var K=(C||h)[S],R=_[S];K==null?R.onerror&&R.onerror(P[S]):R.onsuccess&&R.onsuccess(c.type==="put"&&w[S]?c.values[S]:K)}return{failures:P,results:C,numFailures:T,lastResult:k}}).catch(function(k){return _.forEach(function(P){return P.onerror&&P.onerror(k)}),Promise.reject(k)})})}}})}})}};function fo(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var r=[],o=0,i=0;o<t.keys.length&&i<e.length;++o)ee(t.keys[o],e[i])===0&&(r.push(n?z(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch{return null}}var vi={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return x(x({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var o=fo(r.keys,r.trans._cache,r.cache==="clone");return o?M.resolve(o):n.getMany(r).then(function(i){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?z(i):i},i})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}};function ho(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function po(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var gi={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,n=new Ee(e.MIN_KEY,e.MAX_KEY);return x(x({},e),{transaction:function(r,o,i){if(D.subscr&&o!=="readonly")throw new F.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(D.querier));return e.transaction(r,o,i)},table:function(r){var o=e.table(r),i=o.schema,a=i.primaryKey,c=i.indexes,s=a.extractKey,l=a.outbound,d=a.autoIncrement&&c.filter(function(f){return f.compound&&f.keyPath.includes(a.keyPath)}),y=x(x({},o),{mutate:function(f){function p(I){return I="idb://".concat(t,"/").concat(r,"/").concat(I),k[I]||(k[I]=new Ee)}var v,h,w,_=f.trans,k=f.mutatedParts||(f.mutatedParts={}),P=p(""),C=p(":dels"),T=f.type,R=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[br(a,f).filter(function(I){return I}),f.values]:[],S=R[0],K=R[1],R=f.trans._cache;return A(S)?(P.addKeys(S),(R=T==="delete"||S.length===K.length?fo(S,R):null)||C.addKeys(S),(R||K)&&(v=p,h=R,w=K,i.indexes.forEach(function(I){var B=v(I.name||"");function U(J){return J!=null?I.extractKey(J):null}function H(J){return I.multiEntry&&A(J)?J.forEach(function(De){return B.addKey(De)}):B.addKey(J)}(h||w).forEach(function(J,je){var L=h&&U(h[je]),je=w&&U(w[je]);ee(L,je)!==0&&(L!=null&&H(L),je!=null&&H(je))})}))):S?(K={from:(K=S.lower)!==null&&K!==void 0?K:e.MIN_KEY,to:(K=S.upper)!==null&&K!==void 0?K:e.MAX_KEY},C.add(K),P.add(K)):(P.add(n),C.add(n),i.indexes.forEach(function(I){return p(I.name).add(n)})),o.mutate(f).then(function(I){return!S||f.type!=="add"&&f.type!=="put"||(P.addKeys(I.results),d&&d.forEach(function(B){for(var U=f.values.map(function(L){return B.extractKey(L)}),H=B.keyPath.findIndex(function(L){return L===a.keyPath}),J=0,De=I.results.length;J<De;++J)U[J][H]=I.results[J];p(B.name).addKeys(U)})),_.mutatedParts=Rn(_.mutatedParts||{},k),I})}}),c=function(p){var v=p.query,p=v.index,v=v.range;return[p,new Ee((p=v.lower)!==null&&p!==void 0?p:e.MIN_KEY,(v=v.upper)!==null&&v!==void 0?v:e.MAX_KEY)]},g={get:function(f){return[a,new Ee(f.key)]},getMany:function(f){return[a,new Ee().addKeys(f.keys)]},count:c,query:c,openCursor:c};return E(g).forEach(function(f){y[f]=function(p){var v=D.subscr,h=!!v,w=ho(D,o)&&po(f,p)?p.obsSet={}:v;if(h){var _=function(K){return K="idb://".concat(t,"/").concat(r,"/").concat(K),w[K]||(w[K]=new Ee)},k=_(""),P=_(":dels"),v=g[f](p),h=v[0],v=v[1];if((f==="query"&&h.isPrimaryKey&&!p.values?P:_(h.name||"")).add(v),!h.isPrimaryKey){if(f!=="count"){var C=f==="query"&&l&&p.values&&o.query(x(x({},p),{values:!1}));return o[f].apply(this,arguments).then(function(K){if(f==="query"){if(l&&p.values)return C.then(function(U){return U=U.result,k.addKeys(U),K});var R=p.values?K.result.map(s):K.result;(p.values?k:P).addKeys(R)}else if(f==="openCursor"){var I=K,B=p.values;return I&&Object.create(I,{key:{get:function(){return P.addKey(I.primaryKey),I.key}},primaryKey:{get:function(){var U=I.primaryKey;return P.addKey(U),U}},value:{get:function(){return B&&k.addKey(I.primaryKey),I.value}}})}return K})}P.add(n)}}return o[f].apply(this,arguments)}}),y}})}};function yo(e,t,n){if(n.numFailures===0)return t;if(t.type==="deleteRange")return null;var r=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;return n.numFailures===r?null:(t=x({},t),A(t.keys)&&(t.keys=t.keys.filter(function(o,i){return!(i in n.failures)})),"values"in t&&A(t.values)&&(t.values=t.values.filter(function(o,i){return!(i in n.failures)})),t)}function wr(e,t){return n=e,((r=t).lower===void 0||(r.lowerOpen?0<ee(n,r.lower):0<=ee(n,r.lower)))&&(e=e,(t=t).upper===void 0||(t.upperOpen?ee(e,t.upper)<0:ee(e,t.upper)<=0));var n,r}function mo(e,t,g,r,o,i){if(!g||g.length===0)return e;var a=t.query.index,s=a.multiEntry,l=t.query.range,d=r.schema.primaryKey.extractKey,y=a.extractKey,c=(a.lowLevelIndex||a).extractKey,g=g.reduce(function(f,p){var v=f,h=[];if(p.type==="add"||p.type==="put")for(var w=new Ee,_=p.values.length-1;0<=_;--_){var k,P=p.values[_],C=d(P);w.hasKey(C)||(k=y(P),(s&&A(k)?k.some(function(I){return wr(I,l)}):wr(k,l))&&(w.addKey(C),h.push(P)))}switch(p.type){case"add":var T=new Ee().addKeys(t.values?f.map(function(B){return d(B)}):f),v=f.concat(t.values?h.filter(function(B){return B=d(B),!T.hasKey(B)&&(T.addKey(B),!0)}):h.map(function(B){return d(B)}).filter(function(B){return!T.hasKey(B)&&(T.addKey(B),!0)}));break;case"put":var S=new Ee().addKeys(p.values.map(function(B){return d(B)}));v=f.filter(function(B){return!S.hasKey(t.values?d(B):B)}).concat(t.values?h:h.map(function(B){return d(B)}));break;case"delete":var K=new Ee().addKeys(p.keys);v=f.filter(function(B){return!K.hasKey(t.values?d(B):B)});break;case"deleteRange":var R=p.range;v=f.filter(function(B){return!wr(d(B),R)})}return v},e);return g===e?e:(g.sort(function(f,p){return ee(c(f),c(p))||ee(d(f),d(p))}),t.limit&&t.limit<1/0&&(g.length>t.limit?g.length=t.limit:e.length===t.limit&&g.length<t.limit&&(o.dirty=!0)),i?Object.freeze(g):g)}function vo(e,t){return ee(e.lower,t.lower)===0&&ee(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function bi(e,t){return function(n,r,o,i){if(n===void 0)return r!==void 0?-1:0;if(r===void 0)return 1;if((r=ee(n,r))===0){if(o&&i)return 0;if(o)return 1;if(i)return-1}return r}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(n,r,o,i){if(n===void 0)return r!==void 0?1:0;if(r===void 0)return-1;if((r=ee(n,r))===0){if(o&&i)return 0;if(o)return-1;if(i)return 1}return r}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function wi(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",function(){var o,i;e.subscribers.delete(n),e.subscribers.size===0&&(o=e,i=t,setTimeout(function(){o.subscribers.size===0&&re(i,o)},3e3))})}var xi={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return x(x({},e),{transaction:function(n,r,o){var i,a,s=e.transaction(n,r,o);return r==="readwrite"&&(a=(i=new AbortController).signal,o=function(l){return function(){if(i.abort(),r==="readwrite"){for(var d=new Set,y=0,c=n;y<c.length;y++){var g=c[y],f=wt["idb://".concat(t,"/").concat(g)];if(f){var p=e.table(g),v=f.optimisticOps.filter(function(B){return B.trans===s});if(s._explicit&&l&&s.mutatedParts)for(var h=0,w=Object.values(f.queries.query);h<w.length;h++)for(var _=0,k=(T=w[h]).slice();_<k.length;_++)hr((S=k[_]).obsSet,s.mutatedParts)&&(re(T,S),S.subscribers.forEach(function(B){return d.add(B)}));else if(0<v.length){f.optimisticOps=f.optimisticOps.filter(function(B){return B.trans!==s});for(var P=0,C=Object.values(f.queries.query);P<C.length;P++)for(var T,S,K,R=0,I=(T=C[P]).slice();R<I.length;R++)(S=I[R]).res!=null&&s.mutatedParts&&(l&&!S.dirty?(K=Object.isFrozen(S.res),K=mo(S.res,S.req,v,p,S,K),S.dirty?(re(T,S),S.subscribers.forEach(function(B){return d.add(B)})):K!==S.res&&(S.res=K,S.promise=M.resolve({result:K}))):(S.dirty&&re(T,S),S.subscribers.forEach(function(B){return d.add(B)})))}}}d.forEach(function(B){return B()})}}},s.addEventListener("abort",o(!1),{signal:a}),s.addEventListener("error",o(!1),{signal:a}),s.addEventListener("complete",o(!0),{signal:a})),s},table:function(n){var r=e.table(n),o=r.schema.primaryKey;return x(x({},r),{mutate:function(i){var a=D.trans;if(o.outbound||a.db._options.cache==="disabled"||a.explicit||a.idbtrans.mode!=="readwrite")return r.mutate(i);var s=wt["idb://".concat(t,"/").concat(n)];return s?(a=r.mutate(i),i.type!=="add"&&i.type!=="put"||!(50<=i.values.length||br(o,i).some(function(l){return l==null}))?(s.optimisticOps.push(i),i.mutatedParts&&Mn(i.mutatedParts),a.then(function(l){0<l.numFailures&&(re(s.optimisticOps,i),(l=yo(0,i,l))&&s.optimisticOps.push(l),i.mutatedParts&&Mn(i.mutatedParts))}),a.catch(function(){re(s.optimisticOps,i),i.mutatedParts&&Mn(i.mutatedParts)})):a.then(function(l){var d=yo(0,x(x({},i),{values:i.values.map(function(y,c){var g;return l.failures[c]?y:(y=(g=o.keyPath)!==null&&g!==void 0&&g.includes(".")?z(y):x({},y),he(y,o.keyPath,l.results[c]),y)})}),l);s.optimisticOps.push(d),queueMicrotask(function(){return i.mutatedParts&&Mn(i.mutatedParts)})}),a):r.mutate(i)},query:function(i){if(!ho(D,r)||!po("query",i))return r.query(i);var a=((d=D.trans)===null||d===void 0?void 0:d.db._options.cache)==="immutable",c=D,s=c.requery,l=c.signal,d=function(p,v,h,w){var _=wt["idb://".concat(p,"/").concat(v)];if(!_)return[];if(!(v=_.queries[h]))return[null,!1,_,null];var k=v[(w.query?w.query.index.name:null)||""];if(!k)return[null,!1,_,null];switch(h){case"query":var P=k.find(function(C){return C.req.limit===w.limit&&C.req.values===w.values&&vo(C.req.query.range,w.query.range)});return P?[P,!0,_,k]:[k.find(function(C){return("limit"in C.req?C.req.limit:1/0)>=w.limit&&(!w.values||C.req.values)&&bi(C.req.query.range,w.query.range)}),!1,_,k];case"count":return P=k.find(function(C){return vo(C.req.query.range,w.query.range)}),[P,!!P,_,k]}}(t,n,"query",i),y=d[0],c=d[1],g=d[2],f=d[3];return y&&c?y.obsSet=i.obsSet:(c=r.query(i).then(function(p){var v=p.result;if(y&&(y.res=v),a){for(var h=0,w=v.length;h<w;++h)Object.freeze(v[h]);Object.freeze(v)}else p.result=z(v);return p}).catch(function(p){return f&&y&&re(f,y),Promise.reject(p)}),y={obsSet:i.obsSet,promise:c,subscribers:new Set,type:"query",req:i,dirty:!1},f?f.push(y):(f=[y],(g=g||(wt["idb://".concat(t,"/").concat(n)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[i.query.index.name||""]=f)),wi(y,f,s,l),y.promise.then(function(p){return{result:mo(p.result,i,g==null?void 0:g.optimisticOps,r,y,a)}})}})}})}};function Bn(e,t){return new Proxy(e,{get:function(n,r,o){return r==="db"?t:Reflect.get(n,r,o)}})}var Je=(xe.prototype.version=function(e){if(isNaN(e)||e<.1)throw new F.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new F.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter(function(r){return r._cfg.version===e})[0];return n||(n=new this.Version(e),t.push(n),t.sort(li),n.stores({}),this._state.autoSchema=!1,n)},xe.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||D.letThrough||this._vip)?e():new M(function(n,r){if(t._state.openComplete)return r(new F.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void r(new F.DatabaseClosed);t.open().catch(fe)}t._state.dbReadyPromise.then(n,r)}).then(e)},xe.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,o=e.name;return o&&this.unuse({stack:t,name:o}),e=this._middlewares[t]||(this._middlewares[t]=[]),e.push({stack:t,create:n,level:r??10,name:o}),e.sort(function(i,a){return i.level-a.level}),this},xe.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(o){return r?o.create!==r:!!n&&o.name!==n})),this},xe.prototype.open=function(){var e=this;return vt(rt,function(){return pi(e)})},xe.prototype._close=function(){var e=this._state,t=Rt.indexOf(this);if(0<=t&&Rt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new M(function(n){e.dbReadyResolve=n}),e.openCanceller=new M(function(n,r){e.cancelOpen=r}))},xe.prototype.close=function(n){var t=(n===void 0?{disableAutoOpen:!0}:n).disableAutoOpen,n=this._state;t?(n.isBeingOpened&&n.cancelOpen(new F.DatabaseClosed),this._close(),n.autoOpen=!1,n.dbOpenError=new F.DatabaseClosed):(this._close(),n.autoOpen=this._options.autoOpen||n.isBeingOpened,n.openComplete=!1,n.dbOpenError=null)},xe.prototype.delete=function(e){var t=this;e===void 0&&(e={disableAutoOpen:!0});var n=0<arguments.length&&typeof arguments[0]!="object",r=this._state;return new M(function(o,i){function a(){t.close(e);var s=t._deps.indexedDB.deleteDatabase(t.name);s.onsuccess=ge(function(){var l,d,y;l=t._deps,d=t.name,y=l.indexedDB,l=l.IDBKeyRange,lr(y)||d===_n||cr(y,l).delete(d).catch(fe),o()}),s.onerror=Ge(i),s.onblocked=t._fireOnBlocked}if(n)throw new F.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})},xe.prototype.backendDB=function(){return this.idbdb},xe.prototype.isOpen=function(){return this.idbdb!==null},xe.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},xe.prototype.hasFailed=function(){return this._state.dbOpenError!==null},xe.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(xe.prototype,"tables",{get:function(){var e=this;return E(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),xe.prototype.transaction=function(){var e=(function(t,n,r){var o=arguments.length;if(o<2)throw new F.InvalidArgument("Too few arguments");for(var i=new Array(o-1);--o;)i[o-1]=arguments[o];return r=i.pop(),[t,pe(i),r]}).apply(this,arguments);return this._transaction.apply(this,e)},xe.prototype._transaction=function(e,t,n){var r=this,o=D.trans;o&&o.db===this&&e.indexOf("!")===-1||(o=null);var i,a,s=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{if(a=t.map(function(d){if(d=d instanceof r.Table?d.name:d,typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),e=="r"||e===Hn)i=Hn;else{if(e!="rw"&&e!=Jn)throw new F.InvalidArgument("Invalid transaction mode: "+e);i=Jn}if(o){if(o.mode===Hn&&i===Jn){if(!s)throw new F.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach(function(d){if(o&&o.storeNames.indexOf(d)===-1){if(!s)throw new F.SubTransaction("Table "+d+" not included in parent transaction.");o=null}}),s&&o&&!o.active&&(o=null)}}catch(d){return o?o._promise(null,function(y,c){c(d)}):we(d)}var l=(function d(y,c,g,f,p){return M.resolve().then(function(){var v=D.transless||D,h=y._createTransaction(c,g,y._dbSchema,f);if(h.explicit=!0,v={trans:h,transless:v},f)h.idbtrans=f.idbtrans;else try{h.create(),h.idbtrans._explicit=!0,y._state.PR1398_maxLoop=3}catch(k){return k.name===Lt.InvalidState&&y.isOpen()&&0<--y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),y.close({disableAutoOpen:!1}),y.open().then(function(){return d(y,c,g,null,p)})):we(k)}var w,_=_e(p);return _&&Tt(),v=M.follow(function(){var k;(w=p.call(h,h))&&(_?(k=it.bind(null,null),w.then(k,k)):typeof w.next=="function"&&typeof w.throw=="function"&&(w=vr(w)))},v),(w&&typeof w.then=="function"?M.resolve(w).then(function(k){return h.active?k:we(new F.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):v.then(function(){return w})).then(function(k){return f&&h._resolve(),h._completion.then(function(){return k})}).catch(function(k){return h._reject(k),we(k)})})}).bind(null,this,i,a,o,n);return o?o._promise(i,l,"lock"):D.trans?vt(D.transless,function(){return r._whenReady(l)}):this._whenReady(l)},xe.prototype.table=function(e){if(!te(this._allTables,e))throw new F.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},xe);function xe(e,t){var n=this;this._middlewares={},this.verno=0;var r=xe.dependencies;this._options=t=x({addons:xe.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},r=t.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o,i,a,s,l,d={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:fe,dbReadyPromise:null,cancelOpen:fe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};d.dbReadyPromise=new M(function(c){d.dbReadyResolve=c}),d.openCanceller=new M(function(c,g){d.cancelOpen=g}),this._state=d,this.name=e,this.on=Qt(this,"populate","blocked","versionchange","close",{ready:[Vn,fe]}),this.on.ready.subscribe=Se(this.on.ready.subscribe,function(c){return function(g,f){xe.vip(function(){var p,v=n._state;v.openComplete?(v.dbOpenError||M.resolve().then(g),f&&c(g)):v.onReadyBeingFired?(v.onReadyBeingFired.push(g),f&&c(g)):(c(g),p=n,f||c(function h(){p.on.ready.unsubscribe(g),p.on.ready.unsubscribe(h)}))})}}),this.Collection=(o=this,Xt(ri.prototype,function(w,h){this.db=o;var f=$r,p=null;if(h)try{f=h()}catch(_){p=_}var v=w._ctx,h=v.table,w=h.hook.reading.fire;this._ctx={table:h,index:v.index,isPrimKey:!v.index||h.schema.primKey.keyPath&&v.index===h.schema.primKey.name,range:f,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:p,or:v.or,valueMapper:w!==Gt?w:null}})),this.Table=(i=this,Xt(Hr.prototype,function(c,g,f){this.db=i,this._tx=f,this.name=c,this.schema=g,this.hook=i._allTables[c]?i._allTables[c].hook:Qt(null,{creating:[Yo,fe],reading:[$o,Gt],updating:[Xo,fe],deleting:[Qo,fe]})})),this.Transaction=(a=this,Xt(ai.prototype,function(c,g,f,p,v){var h=this;this.db=a,this.mode=c,this.storeNames=g,this.schema=f,this.chromeTransactionDurability=p,this.idbtrans=null,this.on=Qt(this,"complete","error","abort"),this.parent=v||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new M(function(w,_){h._resolve=w,h._reject=_}),this._completion.then(function(){h.active=!1,h.on.complete.fire()},function(w){var _=h.active;return h.active=!1,h.on.error.fire(w),h.parent?h.parent._reject(w):_&&h.idbtrans&&h.idbtrans.abort(),we(w)})})),this.Version=(s=this,Xt(hi.prototype,function(c){this.db=s,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(l=this,Xt(no.prototype,function(c,g,f){if(this.db=l,this._ctx={table:c,index:g===":id"?null:g,or:f},this._cmp=this._ascending=ee,this._descending=function(p,v){return ee(v,p)},this._max=function(p,v){return 0<ee(p,v)?p:v},this._min=function(p,v){return ee(p,v)<0?p:v},this._IDBKeyRange=l._deps.IDBKeyRange,!this._IDBKeyRange)throw new F.MissingAPI})),this.on("versionchange",function(c){0<c.newVersion?console.warn("Another connection wants to upgrade database '".concat(n.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(n.name,"'. Closing db now to resume the delete request.")),n.close({disableAutoOpen:!1})}),this.on("blocked",function(c){!c.newVersion||c.newVersion<c.oldVersion?console.warn("Dexie.delete('".concat(n.name,"') was blocked")):console.warn("Upgrade '".concat(n.name,"' blocked by other connection holding version ").concat(c.oldVersion/10))}),this._maxKey=en(t.IDBKeyRange),this._createTransaction=function(c,g,f,p){return new n.Transaction(c,g,f,n._options.chromeTransactionDurability,p)},this._fireOnBlocked=function(c){n.on("blocked").fire(c),Rt.filter(function(g){return g.name===n.name&&g!==n&&!g._state.vcFired}).map(function(g){return g.on("versionchange").fire(c)})},this.use(vi),this.use(xi),this.use(gi),this.use(yi),this.use(mi);var y=new Proxy(this,{get:function(c,g,f){if(g==="_vip")return!0;if(g==="table")return function(v){return Bn(n.table(v),y)};var p=Reflect.get(c,g,f);return p instanceof Hr?Bn(p,y):g==="tables"?p.map(function(v){return Bn(v,y)}):g==="_createTransaction"?function(){return Bn(p.apply(this,arguments),y)}:p}});this.vip=y,r.forEach(function(c){return c(n)})}var Dn,Ne=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",_i=(xr.prototype.subscribe=function(e,t,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:t,complete:n})},xr.prototype[Ne]=function(){return this},xr);function xr(e){this._subscribe=e}try{Dn={indexedDB:O.indexedDB||O.mozIndexedDB||O.webkitIndexedDB||O.msIndexedDB,IDBKeyRange:O.IDBKeyRange||O.webkitIDBKeyRange}}catch{Dn={indexedDB:null,IDBKeyRange:null}}function go(e){var t,n=!1,r=new _i(function(o){var i=_e(e),a,s=!1,l={},d={},y={get closed(){return s},unsubscribe:function(){s||(s=!0,a&&a.abort(),c&&ut.storagemutated.unsubscribe(f))}};o.start&&o.start(y);var c=!1,g=function(){return Xn(p)},f=function(v){Rn(l,v),hr(d,l)&&g()},p=function(){var v,h,w;!s&&Dn.indexedDB&&(l={},v={},a&&a.abort(),a=new AbortController,w=function(_){var k=Kt();try{i&&Tt();var P=ot(e,_);return P=i?P.finally(it):P}finally{k&&It()}}(h={subscr:v,signal:a.signal,requery:g,querier:e,trans:null}),Promise.resolve(w).then(function(_){n=!0,t=_,s||h.signal.aborted||(l={},function(k){for(var P in k)if(te(k,P))return;return 1}(d=v)||c||(ut(Zt,f),c=!0),Xn(function(){return!s&&o.next&&o.next(_)}))},function(_){n=!1,["DatabaseClosedError","AbortError"].includes(_==null?void 0:_.name)||s||Xn(function(){s||o.error&&o.error(_)})}))};return setTimeout(g,0),y});return r.hasValue=function(){return n},r.getValue=function(){return t},r}var xt=Je;function _r(e){var t=ct;try{ct=!0,ut.storagemutated.fire(e),mr(e,!0)}finally{ct=t}}oe(xt,x(x({},hn),{delete:function(e){return new xt(e,{addons:[]}).delete()},exists:function(e){return new xt(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return t=xt.dependencies,n=t.indexedDB,t=t.IDBKeyRange,(lr(n)?Promise.resolve(n.databases()).then(function(r){return r.map(function(o){return o.name}).filter(function(o){return o!==_n})}):cr(n,t).toCollection().primaryKeys()).then(e)}catch{return we(new F.MissingAPI)}var t,n},defineClass:function(){return function(e){N(this,e)}},ignoreTransaction:function(e){return D.trans?vt(D.transless,e):e()},vip:fr,async:function(e){return function(){try{var t=vr(e.apply(this,arguments));return t&&typeof t.then=="function"?t:M.resolve(t)}catch(n){return we(n)}}},spawn:function(e,t,n){try{var r=vr(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:M.resolve(r)}catch(o){return we(o)}},currentTransaction:{get:function(){return D.trans||null}},waitFor:function(e,t){return t=M.resolve(typeof e=="function"?xt.ignoreTransaction(e):e).timeout(t||6e4),D.trans?D.trans.waitFor(t):t},Promise:M,debug:{get:function(){return Le},set:function(e){Fr(e)}},derive:X,extend:N,props:oe,override:Se,Events:Qt,on:ut,liveQuery:go,extendObservabilitySet:Rn,getByKeyPath:be,setByKeyPath:he,delByKeyPath:function(e,t){typeof t=="string"?he(e,t,void 0):"length"in t&&[].map.call(t,function(n){he(e,n,void 0)})},shallowClone:Te,deepClone:z,getObjectDiff:gr,cmp:ee,asap:Oe,minKey:-1/0,addons:[],connections:Rt,errnames:Lt,dependencies:Dn,cache:wt,semVer:"4.0.10",version:"4.0.10".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)})})),xt.maxKey=en(xt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ut(Zt,function(e){ct||(e=new CustomEvent(nr,{detail:e}),ct=!0,dispatchEvent(e),ct=!1)}),addEventListener(nr,function(e){e=e.detail,ct||_r(e)}));var Bt,ct=!1,bo=function(){};return typeof BroadcastChannel<"u"&&((bo=function(){(Bt=new BroadcastChannel(nr)).onmessage=function(e){return e.data&&_r(e.data)}})(),typeof Bt.unref=="function"&&Bt.unref(),ut(Zt,function(e){ct||Bt.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!Je.disableBfCache&&e.persisted){Le&&console.debug("Dexie: handling persisted pagehide"),Bt!=null&&Bt.close();for(var t=0,n=Rt;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!Je.disableBfCache&&e.persisted&&(Le&&console.debug("Dexie: handling persisted pageshow"),bo(),_r({all:new Ee(-1/0,[[]])}))})),M.rejectionMapper=function(e,t){return!e||e instanceof ze||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Nr[e.name]?e:(t=new Nr[e.name](t||e.message,e),"stack"in e&&ne(t,"stack",{get:function(){return this.inner.stack}}),t)},Fr(Le),x(Je,Object.freeze({__proto__:null,Dexie:Je,liveQuery:go,Entity:Yr,cmp:ee,PropModSymbol:He,PropModification:Ht,replacePrefix:function(e,t){return new Ht({replacePrefix:[e,t]})},add:function(e){return new Ht({add:e})},remove:function(e){return new Ht({remove:e})},default:Je,RangeSet:Ee,mergeRanges:rn,rangesOverlap:so}),{default:Je}),Je})}(zn)),zn.exports}var Ii=Ki();const Er=Ei(Ii),ko=Symbol.for("Dexie"),jr=globalThis[ko]||(globalThis[ko]=Er);if(Er.semVer!==jr.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Er.semVer} and ${jr.semVer}`);const zt=new jr("built4lifedb");zt.version(1).stores({workouts:"++id, title",exercises:"++id, name, reps, weight, workoutId"});navigator.storage.persist();const Ti=async()=>{if(navigator.storage&&navigator.storage.persist){const u=await navigator.storage.persist();console.log(`Persisted storage granted: ${u}`)}};Ti();const Ri=async u=>await zt.workouts.add({title:u}),Mi=async()=>await zt.workouts.toArray(),qi=async u=>{await zt.workouts.delete(u)};let Ko=Mr(Nt([]));const Bi=async u=>{const m=await Ri(u);return Io(),m},Io=async()=>{qr(Ko,Nt(await Mi()))},Di=async u=>{await qi(u),Io()},Ja=()=>({workouts:et(Ko)});var Po=u=>typeof u=="boolean"?`${u}`:u===0?"0":u,qe=u=>!u||typeof u!="object"||Object.keys(u).length===0,Ni=(u,m)=>JSON.stringify(u)===JSON.stringify(m);function To(u,m){u.forEach(function(b){Array.isArray(b)?To(b,m):m.push(b)})}function Ro(u){let m=[];return To(u,m),m}var Mo=(...u)=>Ro(u).filter(Boolean),qo=(u,m)=>{let b={},x=Object.keys(u),j=Object.keys(m);for(let O of x)if(j.includes(O)){let E=u[O],A=m[O];Array.isArray(E)||Array.isArray(A)?b[O]=Mo(A,E):typeof E=="object"&&typeof A=="object"?b[O]=qo(E,A):b[O]=A+" "+E}else b[O]=u[O];for(let O of j)x.includes(O)||(b[O]=m[O]);return b},Oo=u=>!u||typeof u!="string"?u:u.replace(/\s+/g," ").trim();const Br="-",Fi=u=>{const m=Vi(u),{conflictingClassGroups:b,conflictingClassGroupModifiers:x}=u;return{getClassGroupId:E=>{const A=E.split(Br);return A[0]===""&&A.length!==1&&A.shift(),Bo(A,m)||zi(E)},getConflictingClassGroupIds:(E,A)=>{const N=b[E]||[];return A&&x[E]?[...N,...x[E]]:N}}},Bo=(u,m)=>{var E;if(u.length===0)return m.classGroupId;const b=u[0],x=m.nextPart.get(b),j=x?Bo(u.slice(1),x):void 0;if(j)return j;if(m.validators.length===0)return;const O=u.join(Br);return(E=m.validators.find(({validator:A})=>A(O)))==null?void 0:E.classGroupId},Ao=/^\[(.+)\]$/,zi=u=>{if(Ao.test(u)){const m=Ao.exec(u)[1],b=m==null?void 0:m.substring(0,m.indexOf(":"));if(b)return"arbitrary.."+b}},Vi=u=>{const{theme:m,prefix:b}=u,x={nextPart:new Map,validators:[]};return Gi(Object.entries(u.classGroups),b).forEach(([O,E])=>{Kr(E,x,O,m)}),x},Kr=(u,m,b,x)=>{u.forEach(j=>{if(typeof j=="string"){const O=j===""?m:Co(m,j);O.classGroupId=b;return}if(typeof j=="function"){if(Li(j)){Kr(j(x),m,b,x);return}m.validators.push({validator:j,classGroupId:b});return}Object.entries(j).forEach(([O,E])=>{Kr(E,Co(m,O),b,x)})})},Co=(u,m)=>{let b=u;return m.split(Br).forEach(x=>{b.nextPart.has(x)||b.nextPart.set(x,{nextPart:new Map,validators:[]}),b=b.nextPart.get(x)}),b},Li=u=>u.isThemeGetter,Gi=(u,m)=>m?u.map(([b,x])=>{const j=x.map(O=>typeof O=="string"?m+O:typeof O=="object"?Object.fromEntries(Object.entries(O).map(([E,A])=>[m+E,A])):O);return[b,j]}):u,Wi=u=>{if(u<1)return{get:()=>{},set:()=>{}};let m=0,b=new Map,x=new Map;const j=(O,E)=>{b.set(O,E),m++,m>u&&(m=0,x=b,b=new Map)};return{get(O){let E=b.get(O);if(E!==void 0)return E;if((E=x.get(O))!==void 0)return j(O,E),E},set(O,E){b.has(O)?b.set(O,E):j(O,E)}}},Do="!",Ui=u=>{const{separator:m,experimentalParseClassName:b}=u,x=m.length===1,j=m[0],O=m.length,E=A=>{const N=[];let se=0,Z=0,te;for(let Q=0;Q<A.length;Q++){let de=A[Q];if(se===0){if(de===j&&(x||A.slice(Q,Q+O)===m)){N.push(A.slice(Z,Q)),Z=Q+O;continue}if(de==="/"){te=Q;continue}}de==="["?se++:de==="]"&&se--}const oe=N.length===0?A:A.substring(Z),ue=oe.startsWith(Do),ne=ue?oe.substring(1):oe,X=te&&te>Z?te-Z:void 0;return{modifiers:N,hasImportantModifier:ue,baseClassName:ne,maybePostfixModifierPosition:X}};return b?A=>b({className:A,parseClassName:E}):E},$i=u=>{if(u.length<=1)return u;const m=[];let b=[];return u.forEach(x=>{x[0]==="["?(m.push(...b.sort(),x),b=[]):b.push(x)}),m.push(...b.sort()),m},Yi=u=>({cache:Wi(u.cacheSize),parseClassName:Ui(u),...Fi(u)}),Qi=/\s+/,Xi=(u,m)=>{const{parseClassName:b,getClassGroupId:x,getConflictingClassGroupIds:j}=m,O=[],E=u.trim().split(Qi);let A="";for(let N=E.length-1;N>=0;N-=1){const se=E[N],{modifiers:Z,hasImportantModifier:te,baseClassName:oe,maybePostfixModifierPosition:ue}=b(se);let ne=!!ue,X=x(ne?oe.substring(0,ue):oe);if(!X){if(!ne){A=se+(A.length>0?" "+A:A);continue}if(X=x(oe),!X){A=se+(A.length>0?" "+A:A);continue}ne=!1}const Q=$i(Z).join(":"),de=te?Q+Do:Q,Y=de+X;if(O.includes(Y))continue;O.push(Y);const Se=j(X,ne);for(let Pe=0;Pe<Se.length;++Pe){const Oe=Se[Pe];O.push(de+Oe)}A=se+(A.length>0?" "+A:A)}return A};function Hi(){let u=0,m,b,x="";for(;u<arguments.length;)(m=arguments[u++])&&(b=No(m))&&(x&&(x+=" "),x+=b);return x}const No=u=>{if(typeof u=="string")return u;let m,b="";for(let x=0;x<u.length;x++)u[x]&&(m=No(u[x]))&&(b&&(b+=" "),b+=m);return b};function Ir(u,...m){let b,x,j,O=E;function E(N){const se=m.reduce((Z,te)=>te(Z),u());return b=Yi(se),x=b.cache.get,j=b.cache.set,O=A,A(N)}function A(N){const se=x(N);if(se)return se;const Z=Xi(N,b);return j(N,Z),Z}return function(){return O(Hi.apply(null,arguments))}}const me=u=>{const m=b=>b[u]||[];return m.isThemeGetter=!0,m},Fo=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ji=/^\d+\/\d+$/,Zi=new Set(["px","full","screen"]),ea=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ta=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,na=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ra=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oa=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ze=u=>Dt(u)||Zi.has(u)||Ji.test(u),lt=u=>Vt(u,"length",da),Dt=u=>!!u&&!Number.isNaN(Number(u)),Cr=u=>Vt(u,"number",Dt),an=u=>!!u&&Number.isInteger(Number(u)),ia=u=>u.endsWith("%")&&Dt(u.slice(0,-1)),$=u=>Fo.test(u),ft=u=>ea.test(u),aa=new Set(["length","size","percentage"]),sa=u=>Vt(u,aa,zo),ua=u=>Vt(u,"position",zo),ca=new Set(["image","url"]),la=u=>Vt(u,ca,pa),fa=u=>Vt(u,"",ha),sn=()=>!0,Vt=(u,m,b)=>{const x=Fo.exec(u);return x?x[1]?typeof m=="string"?x[1]===m:m.has(x[1]):b(x[2]):!1},da=u=>ta.test(u)&&!na.test(u),zo=()=>!1,ha=u=>ra.test(u),pa=u=>oa.test(u),Tr=()=>{const u=me("colors"),m=me("spacing"),b=me("blur"),x=me("brightness"),j=me("borderColor"),O=me("borderRadius"),E=me("borderSpacing"),A=me("borderWidth"),N=me("contrast"),se=me("grayscale"),Z=me("hueRotate"),te=me("invert"),oe=me("gap"),ue=me("gradientColorStops"),ne=me("gradientColorStopPositions"),X=me("inset"),Q=me("margin"),de=me("opacity"),Y=me("padding"),Se=me("saturate"),Pe=me("scale"),Oe=me("sepia"),be=me("skew"),he=me("space"),Te=me("translate"),Re=()=>["auto","contain","none"],pe=()=>["auto","hidden","clip","visible","scroll"],ve=()=>["auto",$,m],q=()=>[$,m],z=()=>["",Ze,lt],V=()=>["auto",Dt,$],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],ie=()=>["","0",$],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_e=()=>[Dt,$];return{cacheSize:500,separator:":",theme:{colors:[sn],spacing:[Ze,lt],blur:["none","",ft,$],brightness:_e(),borderColor:[u],borderRadius:["none","","full",ft,$],borderSpacing:q(),borderWidth:z(),contrast:_e(),grayscale:ie(),hueRotate:_e(),invert:ie(),gap:q(),gradientColorStops:[u],gradientColorStopPositions:[ia,lt],inset:ve(),margin:ve(),opacity:_e(),padding:q(),saturate:_e(),scale:_e(),sepia:ie(),skew:_e(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",$]}],container:["container"],columns:[{columns:[ft]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),$]}],overflow:[{overflow:pe()}],"overflow-x":[{"overflow-x":pe()}],"overflow-y":[{"overflow-y":pe()}],overscroll:[{overscroll:Re()}],"overscroll-x":[{"overscroll-x":Re()}],"overscroll-y":[{"overscroll-y":Re()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[X]}],"inset-x":[{"inset-x":[X]}],"inset-y":[{"inset-y":[X]}],start:[{start:[X]}],end:[{end:[X]}],top:[{top:[X]}],right:[{right:[X]}],bottom:[{bottom:[X]}],left:[{left:[X]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",an,$]}],basis:[{basis:ve()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$]}],grow:[{grow:ie()}],shrink:[{shrink:ie()}],order:[{order:["first","last","none",an,$]}],"grid-cols":[{"grid-cols":[sn]}],"col-start-end":[{col:["auto",{span:["full",an,$]},$]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[sn]}],"row-start-end":[{row:["auto",{span:[an,$]},$]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$]}],gap:[{gap:[oe]}],"gap-x":[{"gap-x":[oe]}],"gap-y":[{"gap-y":[oe]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[Y]}],px:[{px:[Y]}],py:[{py:[Y]}],ps:[{ps:[Y]}],pe:[{pe:[Y]}],pt:[{pt:[Y]}],pr:[{pr:[Y]}],pb:[{pb:[Y]}],pl:[{pl:[Y]}],m:[{m:[Q]}],mx:[{mx:[Q]}],my:[{my:[Q]}],ms:[{ms:[Q]}],me:[{me:[Q]}],mt:[{mt:[Q]}],mr:[{mr:[Q]}],mb:[{mb:[Q]}],ml:[{ml:[Q]}],"space-x":[{"space-x":[he]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[he]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$,m]}],"min-w":[{"min-w":[$,m,"min","max","fit"]}],"max-w":[{"max-w":[$,m,"none","full","min","max","fit","prose",{screen:[ft]},ft]}],h:[{h:[$,m,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$,m,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$,m,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$,m,"auto","min","max","fit"]}],"font-size":[{text:["base",ft,lt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cr]}],"font-family":[{font:[sn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$]}],"line-clamp":[{"line-clamp":["none",Dt,Cr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ze,$]}],"list-image":[{"list-image":["none",$]}],"list-style-type":[{list:["none","disc","decimal",$]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[u]}],"placeholder-opacity":[{"placeholder-opacity":[de]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[u]}],"text-opacity":[{"text-opacity":[de]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ze,lt]}],"underline-offset":[{"underline-offset":["auto",Ze,$]}],"text-decoration-color":[{decoration:[u]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[de]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),ua]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sa]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},la]}],"bg-color":[{bg:[u]}],"gradient-from-pos":[{from:[ne]}],"gradient-via-pos":[{via:[ne]}],"gradient-to-pos":[{to:[ne]}],"gradient-from":[{from:[ue]}],"gradient-via":[{via:[ue]}],"gradient-to":[{to:[ue]}],rounded:[{rounded:[O]}],"rounded-s":[{"rounded-s":[O]}],"rounded-e":[{"rounded-e":[O]}],"rounded-t":[{"rounded-t":[O]}],"rounded-r":[{"rounded-r":[O]}],"rounded-b":[{"rounded-b":[O]}],"rounded-l":[{"rounded-l":[O]}],"rounded-ss":[{"rounded-ss":[O]}],"rounded-se":[{"rounded-se":[O]}],"rounded-ee":[{"rounded-ee":[O]}],"rounded-es":[{"rounded-es":[O]}],"rounded-tl":[{"rounded-tl":[O]}],"rounded-tr":[{"rounded-tr":[O]}],"rounded-br":[{"rounded-br":[O]}],"rounded-bl":[{"rounded-bl":[O]}],"border-w":[{border:[A]}],"border-w-x":[{"border-x":[A]}],"border-w-y":[{"border-y":[A]}],"border-w-s":[{"border-s":[A]}],"border-w-e":[{"border-e":[A]}],"border-w-t":[{"border-t":[A]}],"border-w-r":[{"border-r":[A]}],"border-w-b":[{"border-b":[A]}],"border-w-l":[{"border-l":[A]}],"border-opacity":[{"border-opacity":[de]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[A]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[A]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[de]}],"divide-style":[{divide:W()}],"border-color":[{border:[j]}],"border-color-x":[{"border-x":[j]}],"border-color-y":[{"border-y":[j]}],"border-color-s":[{"border-s":[j]}],"border-color-e":[{"border-e":[j]}],"border-color-t":[{"border-t":[j]}],"border-color-r":[{"border-r":[j]}],"border-color-b":[{"border-b":[j]}],"border-color-l":[{"border-l":[j]}],"divide-color":[{divide:[j]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Ze,$]}],"outline-w":[{outline:[Ze,lt]}],"outline-color":[{outline:[u]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[u]}],"ring-opacity":[{"ring-opacity":[de]}],"ring-offset-w":[{"ring-offset":[Ze,lt]}],"ring-offset-color":[{"ring-offset":[u]}],shadow:[{shadow:["","inner","none",ft,fa]}],"shadow-color":[{shadow:[sn]}],opacity:[{opacity:[de]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[b]}],brightness:[{brightness:[x]}],contrast:[{contrast:[N]}],"drop-shadow":[{"drop-shadow":["","none",ft,$]}],grayscale:[{grayscale:[se]}],"hue-rotate":[{"hue-rotate":[Z]}],invert:[{invert:[te]}],saturate:[{saturate:[Se]}],sepia:[{sepia:[Oe]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[b]}],"backdrop-brightness":[{"backdrop-brightness":[x]}],"backdrop-contrast":[{"backdrop-contrast":[N]}],"backdrop-grayscale":[{"backdrop-grayscale":[se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Z]}],"backdrop-invert":[{"backdrop-invert":[te]}],"backdrop-opacity":[{"backdrop-opacity":[de]}],"backdrop-saturate":[{"backdrop-saturate":[Se]}],"backdrop-sepia":[{"backdrop-sepia":[Oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[E]}],"border-spacing-x":[{"border-spacing-x":[E]}],"border-spacing-y":[{"border-spacing-y":[E]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$]}],duration:[{duration:_e()}],ease:[{ease:["linear","in","out","in-out",$]}],delay:[{delay:_e()}],animate:[{animate:["none","spin","ping","pulse","bounce",$]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Pe]}],"scale-x":[{"scale-x":[Pe]}],"scale-y":[{"scale-y":[Pe]}],rotate:[{rotate:[an,$]}],"translate-x":[{"translate-x":[Te]}],"translate-y":[{"translate-y":[Te]}],"skew-x":[{"skew-x":[be]}],"skew-y":[{"skew-y":[be]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$]}],accent:[{accent:["auto",u]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$]}],"caret-color":[{caret:[u]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$]}],fill:[{fill:[u,"none"]}],"stroke-w":[{stroke:[Ze,lt,Cr]}],stroke:[{stroke:[u,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ya=(u,{cacheSize:m,prefix:b,separator:x,experimentalParseClassName:j,extend:O={},override:E={}})=>{fn(u,"cacheSize",m),fn(u,"prefix",b),fn(u,"separator",x),fn(u,"experimentalParseClassName",j);for(const A in E)ma(u[A],E[A]);for(const A in O)va(u[A],O[A]);return u},fn=(u,m,b)=>{b!==void 0&&(u[m]=b)},ma=(u,m)=>{if(m)for(const b in m)fn(u,b,m[b])},va=(u,m)=>{if(m)for(const b in m){const x=m[b];x!==void 0&&(u[b]=(u[b]||[]).concat(x))}},ga=(u,...m)=>typeof u=="function"?Ir(Tr,u,...m):Ir(()=>ya(Tr(),u),...m),Vo=Ir(Tr);var ba={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Lo=u=>u||void 0,dn=(...u)=>Lo(Ro(u).filter(Boolean).join(" ")),Sr=null,tt={},Rr=!1,un=(...u)=>m=>m.twMerge?((!Sr||Rr)&&(Rr=!1,Sr=qe(tt)?Vo:ga({...tt,extend:{theme:tt.theme,classGroups:tt.classGroups,conflictingClassGroupModifiers:tt.conflictingClassGroupModifiers,conflictingClassGroups:tt.conflictingClassGroups,...tt.extend}})),Lo(Sr(dn(u)))):dn(u),So=(u,m)=>{for(let b in m)u.hasOwnProperty(b)?u[b]=dn(u[b],m[b]):u[b]=m[b];return u},wa=(u,m)=>{let{extend:b=null,slots:x={},variants:j={},compoundVariants:O=[],compoundSlots:E=[],defaultVariants:A={}}=u,N={...ba,...m},se=b!=null&&b.base?dn(b.base,u==null?void 0:u.base):u==null?void 0:u.base,Z=b!=null&&b.variants&&!qe(b.variants)?qo(j,b.variants):j,te=b!=null&&b.defaultVariants&&!qe(b.defaultVariants)?{...b.defaultVariants,...A}:A;!qe(N.twMergeConfig)&&!Ni(N.twMergeConfig,tt)&&(Rr=!0,tt=N.twMergeConfig);let oe=qe(b==null?void 0:b.slots),ue=qe(x)?{}:{base:dn(u==null?void 0:u.base,oe&&(b==null?void 0:b.base)),...x},ne=oe?ue:So({...b==null?void 0:b.slots},qe(ue)?{base:u==null?void 0:u.base}:ue),X=qe(b==null?void 0:b.compoundVariants)?O:Mo(b==null?void 0:b.compoundVariants,O),Q=Y=>{if(qe(Z)&&qe(x)&&oe)return un(se,Y==null?void 0:Y.class,Y==null?void 0:Y.className)(N);if(X&&!Array.isArray(X))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof X}`);if(E&&!Array.isArray(E))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof E}`);let Se=(q,z,V=[],G)=>{let W=V;if(typeof z=="string")W=W.concat(Oo(z).split(" ").map(ce=>`${q}:${ce}`));else if(Array.isArray(z))W=W.concat(z.reduce((ce,re)=>ce.concat(`${q}:${re}`),[]));else if(typeof z=="object"&&typeof G=="string"){for(let ce in z)if(z.hasOwnProperty(ce)&&ce===G){let re=z[ce];if(re&&typeof re=="string"){let ie=Oo(re);W[G]?W[G]=W[G].concat(ie.split(" ").map(le=>`${q}:${le}`)):W[G]=ie.split(" ").map(le=>`${q}:${le}`)}else Array.isArray(re)&&re.length>0&&(W[G]=re.reduce((ie,le)=>ie.concat(`${q}:${le}`),[]))}}return W},Pe=(q,z=Z,V=null,G=null)=>{var W;let ce=z[q];if(!ce||qe(ce))return null;let re=(W=G==null?void 0:G[q])!=null?W:Y==null?void 0:Y[q];if(re===null)return null;let ie=Po(re),le=Array.isArray(N.responsiveVariants)&&N.responsiveVariants.length>0||N.responsiveVariants===!0,_e=te==null?void 0:te[q],Me=[];if(typeof ie=="object"&&le)for(let[nt,Qe]of Object.entries(ie)){let Lt=ce[Qe];if(nt==="initial"){_e=Qe;continue}Array.isArray(N.responsiveVariants)&&!N.responsiveVariants.includes(nt)||(Me=Se(nt,Lt,Me,V))}let ze=ie!=null&&typeof ie!="object"?ie:Po(_e),jt=ce[ze||"false"];return typeof Me=="object"&&typeof V=="string"&&Me[V]?So(Me,jt):Me.length>0?(Me.push(jt),V==="base"?Me.join(" "):Me):jt},Oe=()=>Z?Object.keys(Z).map(q=>Pe(q,Z)):null,be=(q,z)=>{if(!Z||typeof Z!="object")return null;let V=new Array;for(let G in Z){let W=Pe(G,Z,q,z),ce=q==="base"&&typeof W=="string"?W:W&&W[q];ce&&(V[V.length]=ce)}return V},he={};for(let q in Y)Y[q]!==void 0&&(he[q]=Y[q]);let Te=(q,z)=>{var V;let G=typeof(Y==null?void 0:Y[q])=="object"?{[q]:(V=Y[q])==null?void 0:V.initial}:{};return{...te,...he,...G,...z}},Re=(q=[],z)=>{let V=[];for(let{class:G,className:W,...ce}of q){let re=!0;for(let[ie,le]of Object.entries(ce)){let _e=Te(ie,z)[ie];if(Array.isArray(le)){if(!le.includes(_e)){re=!1;break}}else{let Me=ze=>ze==null||ze===!1;if(Me(le)&&Me(_e))continue;if(_e!==le){re=!1;break}}}re&&(G&&V.push(G),W&&V.push(W))}return V},pe=q=>{let z=Re(X,q);if(!Array.isArray(z))return z;let V={};for(let G of z)if(typeof G=="string"&&(V.base=un(V.base,G)(N)),typeof G=="object")for(let[W,ce]of Object.entries(G))V[W]=un(V[W],ce)(N);return V},ve=q=>{if(E.length<1)return null;let z={};for(let{slots:V=[],class:G,className:W,...ce}of E){if(!qe(ce)){let re=!0;for(let ie of Object.keys(ce)){let le=Te(ie,q)[ie];if(le===void 0||(Array.isArray(ce[ie])?!ce[ie].includes(le):ce[ie]!==le)){re=!1;break}}if(!re)continue}for(let re of V)z[re]=z[re]||[],z[re].push([G,W])}return z};if(!qe(x)||!oe){let q={};if(typeof ne=="object"&&!qe(ne))for(let z of Object.keys(ne))q[z]=V=>{var G,W;return un(ne[z],be(z,V),((G=pe(V))!=null?G:[])[z],((W=ve(V))!=null?W:[])[z],V==null?void 0:V.class,V==null?void 0:V.className)(N)};return q}return un(se,Oe(),Re(X),Y==null?void 0:Y.class,Y==null?void 0:Y.className)(N)},de=()=>{if(!(!Z||typeof Z!="object"))return Object.keys(Z)};return Q.variantKeys=de(),Q.extend=b,Q.base=se,Q.slots=ne,Q.variants=Z,Q.defaultVariants=te,Q.compoundSlots=E,Q.compoundVariants=X,Q};function Go(u){var m,b,x="";if(typeof u=="string"||typeof u=="number")x+=u;else if(typeof u=="object")if(Array.isArray(u)){var j=u.length;for(m=0;m<j;m++)u[m]&&(b=Go(u[m]))&&(x&&(x+=" "),x+=b)}else for(b in u)u[b]&&(x&&(x+=" "),x+=b);return x}function xa(){for(var u,m,b=0,x="",j=arguments.length;b<j;b++)(u=arguments[b])&&(m=Go(u))&&(x&&(x+=" "),x+=m);return x}function Ct(...u){return Vo(xa(u))}const Eo=wa({base:"focus-visible:ring-ring inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border-input bg-background hover:bg-accent hover:text-accent-foreground border shadow-sm",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}});var _a=Fe("<a><!></a>"),ka=Fe("<button><!></button>");function jo(u,m){St(m,!0);let b=Ve(m,"variant",3,"default"),x=Ve(m,"size",3,"default"),j=Ve(m,"ref",15,null),O=Ve(m,"href",3,void 0),E=Ve(m,"type",3,"button"),A=Ft(m,["$$slots","$$events","$$legacy","class","variant","size","ref","href","type","children"]);var N=cn(),se=dt(N);{var Z=oe=>{var ue=_a();let ne;var X=Ue(ue);Pt(X,()=>m.children??kt),$e(ue),At(ue,Q=>j(Q),()=>j()),Ye(()=>ne=Ot(ue,ne,{class:Ct(Eo({variant:b(),size:x(),className:m.class})),href:O(),...A})),ke(oe,ue)},te=oe=>{var ue=ka();let ne;var X=Ue(ue);Pt(X,()=>m.children??kt),$e(ue),At(ue,Q=>j(Q),()=>j()),Ye(()=>ne=Ot(ue,ne,{class:Ct(Eo({variant:b(),size:x(),className:m.class})),type:E(),...A})),ke(oe,ue)};ln(se,oe=>{O()?oe(Z):oe(te,!1)})}ke(u,N),Et()}var Pa=Fe("<div><!></div>");function Oa(u,m){St(m,!0);let b=Ve(m,"ref",15,null),x=Ft(m,["$$slots","$$events","$$legacy","ref","class","children"]);var j=Pa();let O;var E=Ue(j);Pt(E,()=>m.children??kt),$e(j),At(j,A=>b(A),()=>b()),Ye(()=>O=Ot(j,O,{class:Ct("bg-card text-card-foreground rounded-xl border shadow",m.class),...x})),ke(u,j),Et()}var Aa=Fe("<div><!></div>");function Ca(u,m){St(m,!0);let b=Ve(m,"ref",15,null),x=Ft(m,["$$slots","$$events","$$legacy","ref","class","children"]);var j=Aa();let O;var E=Ue(j);Pt(E,()=>m.children??kt),$e(j),At(j,A=>b(A),()=>b()),Ye(()=>O=Ot(j,O,{class:Ct("p-6",m.class),...x})),ke(u,j),Et()}var Sa=Fe("<div><!></div>");function Ea(u,m){St(m,!0);let b=Ve(m,"ref",15,null),x=Ft(m,["$$slots","$$events","$$legacy","ref","class","children"]);var j=Sa();let O;var E=Ue(j);Pt(E,()=>m.children??kt),$e(j),At(j,A=>b(A),()=>b()),Ye(()=>O=Ot(j,O,{class:Ct("flex items-center p-6 pt-0",m.class),...x})),ke(u,j),Et()}var ja=Fe("<div><!></div>");function Ka(u,m){St(m,!0);let b=Ve(m,"ref",15,null),x=Ft(m,["$$slots","$$events","$$legacy","ref","class","children"]);var j=ja();let O;var E=Ue(j);Pt(E,()=>m.children??kt),$e(j),At(j,A=>b(A),()=>b()),Ye(()=>O=Ot(j,O,{class:Ct("flex flex-col space-y-1.5 p-6 pb-0",m.class),...x})),ke(u,j),Et()}var Ia=Fe("<div><!></div>");function Ta(u,m){St(m,!0);let b=Ve(m,"ref",15,null),x=Ve(m,"level",3,3),j=Ft(m,["$$slots","$$events","$$legacy","ref","class","level","children"]);var O=Ia();let E;var A=Ue(O);Pt(A,()=>m.children??kt),$e(O),At(O,N=>b(N),()=>b()),Ye(()=>E=Ot(O,E,{role:"heading","aria-level":x(),class:Ct("font-semibold leading-none tracking-tight",m.class),...j})),ke(u,O),Et()}const Ra=async(u,m,b,x)=>{await zt.exercises.add({name:u,reps:m,weight:b,workoutId:x})},Ma=async u=>await zt.exercises.where("workoutId").equals(u).toArray();let Wo=Mr(Nt([]));const qa=async(u,m,b,x)=>{await Ra(u,m,b,x),Dr(x)},Ba=async(u,m)=>{u.forEach(async b=>{await qa(b.name,b.reps,b.weight,m)}),Dr(m)},Dr=async u=>{qr(Wo,Nt(await Ma(u)))},Da=()=>({get exercises(){return et(Wo)}});var Na=Fe("<p> </p>"),Fa=Fe("<p> </p>"),za=Fe("<!> <!>",1),Va=Fe("<!> <!>",1),La=Fe('<!> <div class="flex h-full flex-col"><!> <!></div>',1);function Za(u,m){St(m,!0);const b=Pi(),x=()=>Oi(Ci,"$page",b);let j=Mr(Nt([]));const O=async()=>{m.workout.id&&await Dr(m.workout.id),qr(j,Nt(Da().exercises))};ki(()=>{O()});var E=cn(),A=dt(E);on(A,()=>Oa,(N,se)=>{se(N,{class:"m-3 flex w-[300px] flex-col px-5",children:(Z,te)=>{var oe=La(),ue=dt(oe);on(ue,()=>Ka,(de,Y)=>{Y(de,{children:(Se,Pe)=>{var Oe=cn(),be=dt(Oe);on(be,()=>Ta,(he,Te)=>{Te(he,{class:"mx-auto text-center",children:(Re,pe)=>{Pr();var ve=Or();Ye(()=>Ar(ve,m.workout.title)),ke(Re,ve)},$$slots:{default:!0}})}),ke(Se,Oe)},$$slots:{default:!0}})});var ne=Fn(ue,2),X=Ue(ne);on(X,()=>Ca,(de,Y)=>{Y(de,{class:"mx-auto",children:(Se,Pe)=>{var Oe=za(),be=dt(Oe);{var he=pe=>{var ve=cn(),q=dt(ve);wo(q,17,()=>m.workout.exercises,xo,(z,V)=>{var G=Na(),W=Ue(G);$e(G),Ye(()=>Ar(W,`${et(V).reps??""} ${et(V).name??""} (${et(V).weight??""}kg)`)),ke(z,G)}),ke(pe,ve)};ln(be,pe=>{m.workout.exercises&&x().url.pathname==="/workouts"&&pe(he)})}var Te=Fn(be,2);{var Re=pe=>{var ve=cn(),q=dt(ve);wo(q,17,()=>et(j),xo,(z,V)=>{var G=Fa(),W=Ue(G);$e(G),Ye(()=>Ar(W,`${et(V).reps??""} ${et(V).name??""} (${et(V).weight??""}kg)`)),ke(z,G)}),ke(pe,ve)};ln(Te,pe=>{x().url.pathname==="/my-workouts"&&pe(Re)})}ke(Se,Oe)},$$slots:{default:!0}})});var Q=Fn(X,2);on(Q,()=>Ea,(de,Y)=>{Y(de,{class:"mx-auto flex-grow items-end",children:(Se,Pe)=>{var Oe=Va(),be=dt(Oe);{var he=pe=>{jo(pe,{onclick:async()=>{const ve=await Bi(m.workout.title);m.workout.exercises&&ve&&Ba(m.workout.exercises,ve),Ai("/my-workouts")},variant:"outline",children:(ve,q)=>{Pr();var z=Or("Add to my workouts");ke(ve,z)},$$slots:{default:!0}})};ln(be,pe=>{x().url.pathname==="/workouts"&&pe(he)})}var Te=Fn(be,2);{var Re=pe=>{jo(pe,{onclick:()=>{m.workout.id&&Di(m.workout.id)},variant:"outline",children:(ve,q)=>{Pr();var z=Or("Delete workout");ke(ve,z)},$$slots:{default:!0}})};ln(Te,pe=>{x().url.pathname==="/my-workouts"&&pe(Re)})}ke(Se,Oe)},$$slots:{default:!0}})}),$e(ne),ke(Z,oe)},$$slots:{default:!0}})}),ke(u,E),Et()}export{Za as W,Ja as w};
